<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="足够努力 便能实现">
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="足够努力 便能实现">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="足够努力 便能实现">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/03/node-js入门学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/03/node-js入门学习笔记/" class="post-title-link" itemprop="url">node.js入门学习笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-12-03 10:19:41 / Modified: 10:22:34" itemprop="dateCreated datePublished" datetime="2019-12-03T10:19:41+08:00">2019-12-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/node-js/" itemprop="url" rel="index">
                    <span itemprop="name">node.js</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="node-js"><a href="#node-js" class="headerlink" title="node.js"></a>node.js</h1><h2 id="node-js是什么"><a href="#node-js是什么" class="headerlink" title="node.js是什么"></a>node.js是什么</h2><ol>
<li><p>node.js是一个JavaScript运行时环境（即node.js可以解析和执行JavaScript代码）</p>
</li>
<li><p>浏览器中的JavaScript：EcmaScript BOM DOM</p>
</li>
<li><p>node.js只有EcmaScript，没有BOM和DOM</p>
</li>
<li><p>node.js为JavaScript提供一些服务器级别的操作API。例如：文件读写，网络服务的构建，网络通信，http服务器…</p>
</li>
<li><h6 id="JavaScript引擎是一个专门处理JavaScript脚本的虚拟机"><a href="#JavaScript引擎是一个专门处理JavaScript脚本的虚拟机" class="headerlink" title="JavaScript引擎是一个专门处理JavaScript脚本的虚拟机"></a><em>JavaScript引擎是一个专门处理JavaScript脚本的虚拟机</em></h6></li>
<li><p>特点：event-driven（ 事件驱动） non-blocking I/O model （非阻塞IO模型——异步）lightweight and efficient（轻量，高效）</p>
</li>
</ol>
<h2 id="node-js-能做什么"><a href="#node-js-能做什么" class="headerlink" title="node.js 能做什么"></a>node.js 能做什么</h2><ol>
<li>web服务器后台</li>
<li>命令行工具</li>
</ol>
<h2 id="核心模块"><a href="#核心模块" class="headerlink" title="核心模块"></a>核心模块</h2><ul>
<li>Node为JavaScript提供了很多服务器级别的API，这些API绝大多数都被包装到一个具名模块中</li>
<li>require是一个方法，作用：</li>
</ul>
<ol>
<li>加载文件模块并执行里面的代码</li>
<li>拿到被加载文件模块导出的接口对象</li>
</ol>
<ul>
<li>在node中模块有三种：</li>
</ul>
<ol>
<li>具名的核心模块</li>
<li>自己编写的文件模块(js文件)</li>
<li>第三方模块</li>
</ol>
<ul>
<li>在node中没有全局作用域，只有模块作用域</li>
</ul>
<h3 id="常见的核心模块"><a href="#常见的核心模块" class="headerlink" title="常见的核心模块"></a>常见的核心模块</h3><h4 id="文件操作（fs）"><a href="#文件操作（fs）" class="headerlink" title="文件操作（fs）"></a>文件操作（fs）</h4><ul>
<li>浏览器的JavaScript是没有文件操作能力，但是Node中的JavaScript具有文件操作的能力</li>
<li>fs：file-system</li>
<li>在fs这个核心模块中，提供了所有fs.readFile文件操作相关的API，例如：fs.readFile</li>
<li>fs.readFile:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line">fs.readFile(文件路径，<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">&#125;</span><br><span class="line">            &#125;)<span class="comment">//第一个参数：文件路径，字符串；第二个参数：回调函数</span></span><br></pre></td></tr></table></figure>

<ul>
<li>fs.writeFile:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fs.writeFile(文件路径,数据,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)<span class="comment">//第一个参数：文件路劲；第二个参数，上传的数据（字符串形式）；第三个参数：回调函数</span></span><br></pre></td></tr></table></figure>

<h4 id="http服务"><a href="#http服务" class="headerlink" title="http服务"></a>http服务</h4><ul>
<li>创建编写服务器</li>
<li>服务器做什么? 提供（对数据的）服务：发请求，接受请求，处理请求，发送响应（反馈）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">var</span> server = http.createServer()<span class="comment">//创建web服务器并返回server实例</span></span><br><span class="line">server.on(<span class="string">'request'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)<span class="comment">//注册reques请求事件，当客户端请求过来就会自动触发服务器的request请求事件，然后执行第二个参数：回调处理函数</span></span><br><span class="line"><span class="comment">//req 请求参数；res 响应参数</span></span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"running"</span>)</span><br><span class="line">&#125;)<span class="comment">//启动服务器，可以用http://127.0.0.1:3000进行访问</span></span><br></pre></td></tr></table></figure>

<h2 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h2><ul>
<li>ip地址用来定位计算机，端口号用来定位具体的应用程序</li>
<li>所有需要联网通信的软件必须具有端口号</li>
<li>ipconfig 查询本机IP</li>
</ul>
<h2 id="Contente-Type"><a href="#Contente-Type" class="headerlink" title="Contente-Type"></a>Contente-Type</h2><ul>
<li>在服务器默认发送的数据是utf8编码的内容，中国操作系统默认是gbk</li>
<li>通过网络发送文件，本质上不是在发文件，而是在发送文件内容</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.serHeader(<span class="string">'Content-Type'</span>,<span class="string">'text/plain;charset=utf-8'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h2><ul>
<li>JavaScript Standard Style</li>
<li>Airbnb JavaScript Style</li>
<li>采用无分号代码：当一行代码是以<code>(</code> <code>[</code> `开头的时候，要在前面补分号，避免语法错误</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">say()</span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="在node中使用art-template模板引擎"><a href="#在node中使用art-template模板引擎" class="headerlink" title="在node中使用art-template模板引擎"></a>在node中使用art-template模板引擎</h2><ul>
<li>安装<code>npm i art-template</code></li>
<li>加载模块<code>var template = require(&#39;art-template&#39;)</code></li>
<li>模板引擎的API <code>var ret = template.render(data.{数据对象})</code></li>
<li><strong>服务端渲染和客户端渲染</strong></li>
</ul>
<ol>
<li>客户端渲染，请求两次。第一次请求页面，第二次请求数据</li>
<li>客户端渲染不利于SEO搜索引擎优化</li>
<li>服务端渲染，请求一次。请求渲染好的页面</li>
<li>服务端渲染是可以被爬虫抓取到的，客户端异步渲染很难被爬虫抓取</li>
<li>真正的网站既不是纯异步也不是纯服务端渲染，而是两者结合</li>
</ol>
<h2 id="留言本案例"><a href="#留言本案例" class="headerlink" title="留言本案例"></a>留言本案例</h2><h3 id="文件统一管理——public"><a href="#文件统一管理——public" class="headerlink" title="文件统一管理——public"></a>文件统一管理——public</h3><ul>
<li>public存储所有的静态资源（css，js，img，lib——第三方包）</li>
<li>如果请求路径是以/public/开头的，则意味着是要获取public中的某个资源，直接把请求路径当作文件路径来进行读取</li>
<li>可以通过代码灵活的控制哪些资源是可以被访问的</li>
</ul>
<h3 id="发表评论——表单提交"><a href="#发表评论——表单提交" class="headerlink" title="发表评论——表单提交"></a>发表评论——表单提交</h3><ul>
<li>表单提交：</li>
</ul>
<ol>
<li>默认的提交行为</li>
<li>表单异步提交</li>
<li>action 表单提交地址——url地址</li>
<li>method 表单提交的方式：get/post</li>
</ol>
<h3 id="url模块"><a href="#url模块" class="headerlink" title="url模块"></a>url模块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>)</span><br><span class="line"><span class="keyword">var</span> parseObj = url.parse(req.url,<span class="literal">true</span>)<span class="comment">//两个参数：第一个参数是请求路径，第二个参数是将parseObj.query转为对象</span></span><br><span class="line"><span class="keyword">var</span> pathname = parseObj.pathname<span class="comment">//包含不含查询字符串（？后面的内容）的路径部分</span></span><br></pre></td></tr></table></figure>

<h3 id="用户重定向"><a href="#用户重定向" class="headerlink" title="用户重定向"></a>用户重定向</h3><ol>
<li>状态码设置为302（302为临时重定向）<code>res.statusCode = 302</code></li>
<li>在响应头通过Location告诉客户端往哪里重定向<code>res.setHeader(&#39;Location&#39;,&#39;/&#39;)</code></li>
</ol>
<ul>
<li>如果客户端发现服务器响应的状态码是302，就会自动去响应头里找Location</li>
</ul>
<h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><ul>
<li>什么是模块化？</li>
</ul>
<ol>
<li>文件作用域</li>
<li>通信规则（加载、导出）</li>
</ol>
<ul>
<li>CommonJs模块规范</li>
</ul>
<ol>
<li>模块作用域</li>
<li>使用require方法来加载模块</li>
<li>使用export接口对象</li>
</ol>
<ul>
<li>优先从缓冲加载，从而避免重复加载——函数只会执行一次</li>
<li>模块加载机制</li>
</ul>
<img src="/.com//typora\images\TIM图片20191122110249.jpg" style="zoom:67%;">

<h2 id="npm命令行工具"><a href="#npm命令行工具" class="headerlink" title="npm命令行工具"></a>npm命令行工具</h2><ul>
<li>常见命令</li>
</ul>
<p><code>npm --version</code>  查版本</p>
<p><code>npm install --global npm</code>    全局安装</p>
<p><code>npm init</code> 初始化package.json “dependencies”存放第三包依赖信息</p>
<p><code>npm init -y</code> 跳过向导，快速生成</p>
<p><code>npm instsall</code></p>
<p><code>npm install 包名</code></p>
<p><code>npm install --save</code></p>
<p><em>–save 会保存依赖项信息</em></p>
<p><code>npm uninstall 包名</code> 只删除，如果有依赖项，依然保存</p>
<p><code>npm uninstall --save</code> 删除的同时，删除依赖项信息</p>
<p><code>npm help</code> 查看帮助</p>
<p><code>npm uninstall help</code> 查看指定命令的帮助</p>
<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><p>原生的http在某些方面表现不足</p>
<p>在node中有很多web开发框架</p>
<ol>
<li>安装<code>npm i express --save</code></li>
<li>引包 <code>var express = require(&#39;express&#39;)</code></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = express()<span class="comment">//创建服务器应用程序（相当于http.createServer)</span></span><br><span class="line">app.get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    res.send(<span class="string">'hello express'</span>)</span><br><span class="line">&#125;)<span class="comment">//基本路由</span></span><br><span class="line">app.listen(<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">'running'</span>)</span><br><span class="line">           &#125;)<span class="comment">//监听端口，相当于server.listen</span></span><br><span class="line">app.use(<span class="string">'/public/'</span>,express.static(./public/))<span class="comment">//公开指定目录</span></span><br><span class="line"><span class="comment">//可以通过/public/xx的方式访问public中的所有资源</span></span><br></pre></td></tr></table></figure>

<h2 id="文件路径"><a href="#文件路径" class="headerlink" title="文件路径"></a>文件路径</h2><p>文件操作中的相对路径可以省略<code>./</code></p>
<p>模块加载中，相对路径中的<code>./</code>不可以省略</p>
<h2 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h2><p>基于Node.js开发的第三方命令行工具</p>
<p>安装<code>npm i --global nodemon</code></p>
<p><code>nodemon app.js</code> 监视文件变化，文件发生变化，自动重启服务器</p>
<h2 id="留言本案例——express改造"><a href="#留言本案例——express改造" class="headerlink" title="留言本案例——express改造"></a>留言本案例——express改造</h2><ol>
<li>安装<code>npm i --save art-template express-art-template</code></li>
<li><code>app.engine(&#39;html&#39;require(express-art-template))</code> 当渲染以.html结尾的文件时，使用art-template模板引擎</li>
<li><code>res.render(&#39;html模板名&#39;，{模板数据})</code> </li>
</ol>
<ul>
<li>Express为response响应对象提供了render方法，render默认是不可以使用的，但是如果配置了模板引擎就可以</li>
<li>若第一个参数不是路径，会去项目的views目录查找模板文件</li>
<li>更改默认<code>app.set(&#39;views&#39;,目录路径)</code></li>
</ul>
<ol start="4">
<li>重定向<code>res.redirect(&#39;/&#39;)</code></li>
</ol>
<h3 id="表单post"><a href="#表单post" class="headerlink" title="表单post"></a>表单post</h3><h4 id="在express获取表单POST请求体数据"><a href="#在express获取表单POST请求体数据" class="headerlink" title="在express获取表单POST请求体数据"></a>在express获取表单POST请求体数据</h4><ul>
<li>安装body-Parser</li>
<li>引包</li>
<li>配置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.use(bodyParser.urlencoded(&#123;<span class="attr">extented</span>:<span class="literal">false</span>&#125;))</span><br><span class="line">app.use(bodyParser.json())</span><br></pre></td></tr></table></figure>

<ul>
<li>req.body</li>
</ul>
<h2 id="crud案例"><a href="#crud案例" class="headerlink" title="crud案例"></a>crud案例</h2><h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><ul>
<li><p>初始化，模块处理</p>
</li>
<li><p>使用Bootstrap的样式</p>
</li>
</ul>
<p><code>app.use(&#39;/node_modules&#39;,express.static(&#39;./node_modules&#39;))</code> 开放node_modules</p>
<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><h4 id="路由设计"><a href="#路由设计" class="headerlink" title="路由设计"></a>路由设计</h4><table>
<thead>
<tr>
<th>请求方式</th>
<th>请求路径</th>
<th>get参数</th>
<th>post参数</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>/students</td>
<td></td>
<td></td>
<td>渲染首页</td>
</tr>
<tr>
<td>GET</td>
<td>/students/new</td>
<td></td>
<td></td>
<td>渲染添加学生页面</td>
</tr>
<tr>
<td>POST</td>
<td>/students/new</td>
<td></td>
<td>name,age,gender,bobbies</td>
<td>处理添加学生请求</td>
</tr>
<tr>
<td>GET</td>
<td>/students/edit</td>
<td>id</td>
<td></td>
<td>渲染编辑页面</td>
</tr>
<tr>
<td>POST</td>
<td>/students/edit</td>
<td></td>
<td>id,name,age,gender,hobbies</td>
<td>处理编辑清楚</td>
</tr>
<tr>
<td>GET</td>
<td>/students/delete</td>
<td>id</td>
<td></td>
<td>处理删除请求</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="router-js"><a href="#router-js" class="headerlink" title="router.js"></a>router.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> router = express.Router()<span class="comment">//创建一个路由容器</span></span><br><span class="line">router.get(<span class="string">'/students'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)//渲染首页</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        students.find(<span class="function"><span class="keyword">function</span>(<span class="params">err,students</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'404 not found'</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            res.render(<span class="string">'index.html'</span>,&#123;</span><br><span class="line">                students:students</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">          </span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">router.get()<span class="comment">//其他路由处理</span></span><br><span class="line">...</span><br><span class="line"><span class="built_in">module</span>.exports = router<span class="comment">//暴露路由</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>app.use(router)</code> 把路由容器挂载到app服务器上</li>
</ul>
<h3 id="添加学生"><a href="#添加学生" class="headerlink" title="添加学生"></a>添加学生</h3><ol>
<li>表单页面<code>&lt;form action = &#39;/students/new&#39; method = &#39;POST&#39;&gt;</code></li>
<li>获取表单数据<ul>
<li>配置bodyParser</li>
</ul>
</li>
<li>处理数据<ul>
<li>将数据保存到db.json文件用以持久化</li>
<li>读取文件——转为对象——往对象中push数据——把对象转为字符串——字符串写入文件</li>
</ul>
</li>
<li>发送响应–重定向</li>
</ol>
<h4 id="students-js-数据操作文件模块"><a href="#students-js-数据操作文件模块" class="headerlink" title="students.js 数据操作文件模块"></a>students.js 数据操作文件模块</h4><p>只处理数据，不关心业务</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">var</span> dbPath = <span class="string">'./db.json'</span></span><br><span class="line"></span><br><span class="line">exports.save=<span class="function"><span class="keyword">function</span>(<span class="params">student,callback</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//读取学生数据</span></span><br><span class="line">    fs.readFile(dbPath,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="keyword">return</span> callback(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将文件字符串转为对象</span></span><br><span class="line">        <span class="keyword">var</span> students = <span class="built_in">JSON</span>.parse(data).students</span><br><span class="line">        <span class="comment">//被添加学生的ID</span></span><br><span class="line">        <span class="keyword">if</span>(students.length==<span class="number">0</span>)&#123;</span><br><span class="line">            student.id = <span class="number">1</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            student.id = students[students.length<span class="number">-1</span>].id+<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//往students对象中添加student</span></span><br><span class="line">        students.push(student)</span><br><span class="line">        <span class="keyword">var</span> fileData = <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">            <span class="string">"students"</span> : students</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//数据写入文件</span></span><br><span class="line">        fs.writeFile(dbPath,fileData,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                <span class="keyword">return</span> callback(err)</span><br><span class="line">            &#125;</span><br><span class="line">            callback(<span class="literal">null</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>如果需要获取一个函数中异步操作的结果，则必须通过回调函数</strong></p>
</li>
<li><p>回调函数，就是用来获取异步操作的结果</p>
</li>
</ul>
<h3 id="修改学生信息"><a href="#修改学生信息" class="headerlink" title="修改学生信息"></a>修改学生信息</h3><ol>
<li>在客户端的列表页面中处理链接问题</li>
</ol>
<p><code>&lt;a href=&#39;/students/edit?id=&#39;&gt;编辑&lt;/a&gt;</code></p>
<ol start="2">
<li>获取需要编辑学生的id</li>
<li>渲染编辑页面</li>
</ol>
<ul>
<li>根据id获取学生信息</li>
<li>使用模板引擎渲染页面</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//渲染编辑页面</span></span><br><span class="line">exports.findbyId = <span class="function"><span class="keyword">function</span>(<span class="params">id,callback</span>)</span>&#123;</span><br><span class="line">    fs.readFile(dbPath,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="keyword">return</span> callback(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> students = <span class="built_in">JSON</span>.parse(data).students</span><br><span class="line">        <span class="keyword">var</span> ret = students.find(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.id === <span class="built_in">parseInt</span>(id)</span><br><span class="line">            <span class="comment">//id是二进制</span></span><br><span class="line">        &#125;)</span><br><span class="line">        callback(<span class="literal">null</span>,ret)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//处理编辑信息</span></span><br><span class="line">exports.editById = <span class="function"><span class="keyword">function</span>(<span class="params">student,callback</span>)</span>&#123;</span><br><span class="line">    fs.readFile(dbPath,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="keyword">return</span> callback(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> students = <span class="built_in">JSON</span>.parse(data).students</span><br><span class="line">        <span class="comment">//字符串转number</span></span><br><span class="line">        student.id = <span class="built_in">parseInt</span>(student.id)</span><br><span class="line">        <span class="keyword">var</span> stu = students.find(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.id === student.id</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//循环修改对象属性</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> student)&#123;</span><br><span class="line">            stu[key] = student[key]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//写入文件</span></span><br><span class="line">        <span class="keyword">var</span> fileData = <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">            students:students</span><br><span class="line">        &#125;)</span><br><span class="line">        fs.writeFile(dbPath,fileData,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                <span class="keyword">return</span> callback(err)</span><br><span class="line">            &#125;</span><br><span class="line">            callback(err)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr.find(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> item.id === student.id</span><br><span class="line">&#125;)<span class="comment">//ES6d的一个数组方法，接收函数做参数，当满足item.id === student.id时，find停止遍历，同时返回遍历项</span></span><br></pre></td></tr></table></figure>

<h3 id="删除学生"><a href="#删除学生" class="headerlink" title="删除学生"></a>删除学生</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">exports.deleteById = <span class="function"><span class="keyword">function</span>(<span class="params">id,callback</span>)</span>&#123;</span><br><span class="line">    fs.readFile(dbPath,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="keyword">return</span> callback(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> students = <span class="built_in">JSON</span>.parse(data).students</span><br><span class="line">        <span class="keyword">var</span> ret = students.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.id === id</span><br><span class="line">        &#125;)</span><br><span class="line">        students.splice(ret,<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">var</span> fileData = <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">            students:students</span><br><span class="line">        &#125;)</span><br><span class="line">        fs.writeFile(dbPath,fileData,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                <span class="keyword">return</span> callback(err)</span><br><span class="line">            &#125;</span><br><span class="line">            callback(<span class="literal">null</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ret = students.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.id === id</span><br><span class="line">        &#125;)<span class="comment">//同find，返回下标</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/03/图解HTTP学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/03/图解HTTP学习笔记/" class="post-title-link" itemprop="url">图解HTTP学习笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-12-03 10:18:40 / Modified: 10:34:20" itemprop="dateCreated datePublished" datetime="2019-12-03T10:18:40+08:00">2019-12-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络相关/" itemprop="url" rel="index">
                    <span itemprop="name">网络相关</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="《图解HTTP》学习笔记"><a href="#《图解HTTP》学习笔记" class="headerlink" title="《图解HTTP》学习笔记"></a>《图解HTTP》学习笔记</h1><h2 id="了解web及网络基础"><a href="#了解web及网络基础" class="headerlink" title="了解web及网络基础"></a>了解web及网络基础</h2><h3 id="使用HTTP协议访问web"><a href="#使用HTTP协议访问web" class="headerlink" title="使用HTTP协议访问web"></a>使用HTTP协议访问web</h3><ul>
<li>根据Web浏览器地址栏中指定的URL，Web浏览器从Web服务器端获取文件资源等信息，从而显示出Web页面</li>
<li>Web使用一种名为HTTP（超文本传输协议）——Web是建立在HTTP协议上通信的</li>
</ul>
<h3 id="HTTP的诞生"><a href="#HTTP的诞生" class="headerlink" title="HTTP的诞生"></a>HTTP的诞生</h3><h3 id="网络基础TCP-IP"><a href="#网络基础TCP-IP" class="headerlink" title="网络基础TCP/IP"></a>网络基础TCP/IP</h3><ul>
<li>通常使用的网络（包括互联网）是在TCP/IP协议群的基础上运作的。二HTTP属于它内部的一个子集</li>
<li>TCP/IP协议族</li>
<li>TCP/IP是互联网相关的各类协议族的总称</li>
</ul>
<h4 id="TCP-IP的分层管理"><a href="#TCP-IP的分层管理" class="headerlink" title="TCP/IP的分层管理"></a>TCP/IP的分层管理</h4><ul>
<li><p>TCP/IP协议族按层次分别分为以下4层：应用层，传输层，网络层和数据链路层</p>
<ol>
<li>应用层决定了向用户提供应用服务时通信的活动  <strong>HTTP协议也处于该层</strong></li>
<li>传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输  <strong>TCPwa（传输控制协议）和UDP（用户数据报协议）</strong></li>
<li>网络层用来处理在网络上流动的数据包，该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。</li>
<li>链路层（又名数据链路层，网络接口层）用来处理连接网络的硬件部分</li>
</ol>
</li>
</ul>
<h4 id="TCP-IP通信传输流"><a href="#TCP-IP通信传输流" class="headerlink" title="TCP/IP通信传输流"></a>TCP/IP通信传输流</h4><ul>
<li>发出一个想看某个Web页面的HTTP请求<ol>
<li>传输层（TCP协议）——把应用层收到的数据（HTTP请求报文）进行分割，并在每个报文上打上标记序号及端口号</li>
<li>网络层（IP协议）——增加作为通信目的地的MAC地址后转发给链路层</li>
</ol>
</li>
<li>发送端在层与层之间传输数据时，没经过一层时并定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，没经过一层时会把对应的首部消去</li>
<li>这种把数据信息包装起来的做法成为封装</li>
</ul>
<h3 id="IP、TCP和DNS"><a href="#IP、TCP和DNS" class="headerlink" title="IP、TCP和DNS"></a>IP、TCP和DNS</h3><h4 id="负责传输的IP协议"><a href="#负责传输的IP协议" class="headerlink" title="负责传输的IP协议"></a>负责传输的IP协议</h4><ul>
<li>IP协议的作用就是把各种数据包传送给对方</li>
<li>而要保证确实传送到对方那里，则需要满足各类条件。其中两个重要的条件时IP地址和MAC地址</li>
<li>IP地址指明了节点分配到的地址，MAC地址是指网卡所属的固定地址</li>
<li>使用ARP协议凭借MAC地址进行通信。ARP是一种用以解析地址的协议，根据通信方的IP地址就可以反查出对应的MAC地址</li>
</ul>
<h4 id="确保可靠性的TCP协议"><a href="#确保可靠性的TCP协议" class="headerlink" title="确保可靠性的TCP协议"></a>确保可靠性的TCP协议</h4><ul>
<li><p>TCP位于传输层，提供可靠的字节流服务</p>
<ol>
<li><p>所谓的字节流服务是指，为了方便传输，将大块数据分割成以报文段为单位的数据包进行管理</p>
</li>
<li><p>而可靠的传输服务是指，能够把数据准确可靠地传给对方——三次握手策略（SYN，ACK）</p>
</li>
</ol>
</li>
</ul>
<h4 id="负责域名解析的DNS服务"><a href="#负责域名解析的DNS服务" class="headerlink" title="负责域名解析的DNS服务"></a>负责域名解析的DNS服务</h4><ul>
<li>DNS协议提供通过域名查找IP地址，或逆向从IP地址反查域名的服务</li>
</ul>
<h3 id="各种协议与HTTP协议的关系"><a href="#各种协议与HTTP协议的关系" class="headerlink" title="各种协议与HTTP协议的关系"></a>各种协议与HTTP协议的关系</h3><img src="/.com//Users\lenovo\blog\public\img\HTTP与相关协议的关系.png" style="zoom:67%;">

<h3 id="URI和URL"><a href="#URI和URL" class="headerlink" title="URI和URL"></a>URI和URL</h3><ul>
<li>URI 统一资源标识符：用字符串标识某一互联网资源</li>
<li>而URL表示资源的地点（互联网上所处的位置）</li>
<li>URL是URI的子集</li>
<li>URI格式</li>
</ul>
<img src="/.com//Users\lenovo\blog\public\img\URI格式.png" style="zoom:67%;">

<h2 id="简单的HTTP协议"><a href="#简单的HTTP协议" class="headerlink" title="简单的HTTP协议"></a>简单的HTTP协议</h2><ul>
<li>HTTP协议结构</li>
</ul>
<h3 id="HTTP协议用于客户端和服务器端之间的通信"><a href="#HTTP协议用于客户端和服务器端之间的通信" class="headerlink" title="HTTP协议用于客户端和服务器端之间的通信"></a>HTTP协议用于客户端和服务器端之间的通信</h3><ul>
<li>请求访问文本或图像等资源的一端称为客户端，而提供资源响应的一端称为服务器端</li>
</ul>
<h3 id="通过请求和响应的交换达成通信"><a href="#通过请求和响应的交换达成通信" class="headerlink" title="通过请求和响应的交换达成通信"></a>通过请求和响应的交换达成通信</h3><ul>
<li>请求报文是由请求方法、请求URI、版本协议、可选的请求首部字段和内容实体构成的</li>
</ul>
  <img src="/.com//Users\lenovo\blog\public\img\请求报文.jpg" style="zoom:50%;">

<ul>
<li><p>响应报文基本由协议版本、状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成</p>
<img src="/.com//Users\lenovo\blog\public\img\响应报文.png" style="zoom:50%;">

</li>
</ul>
<h3 id="HTTP是不保存状态的协议"><a href="#HTTP是不保存状态的协议" class="headerlink" title="HTTP是不保存状态的协议"></a>HTTP是不保存状态的协议</h3><ul>
<li>HTTP是一种不保存状态<ul>
<li>即无状态协议</li>
<li>HTTP自身不对请求和响应之间的通信状态进行保存</li>
<li>HTTP/1.1虽然是无状态协议，但是为了实现期望的保存状态功能，于是引入了Cookie技术</li>
</ul>
</li>
</ul>
<h3 id="请求URI定位资源"><a href="#请求URI定位资源" class="headerlink" title="请求URI定位资源"></a>请求URI定位资源</h3><ul>
<li>HTTP协议使用URI定位互联网上的资源</li>
</ul>
<h3 id="告知服务器意图的HTTP方法"><a href="#告知服务器意图的HTTP方法" class="headerlink" title="告知服务器意图的HTTP方法"></a>告知服务器意图的HTTP方法</h3><ul>
<li>GET：获取资源<ul>
<li>GET方法用来请求访问已被URI识别的资源</li>
</ul>
</li>
<li>POST：传输实体主体<ul>
<li>POST方法用来传输实体的主体</li>
<li>POST的功能和GET很相似，但是POST的主要目的并不是获取响应的主体内容</li>
</ul>
</li>
<li>PUT：传输文件<ul>
<li>PUT方法用来传输文件</li>
<li>要求在请求报文的主体中包含文件内容，然后保存到请求URI指定的位置</li>
<li>自身不带验证机制，存在安全性问题，因此一般的Web网站不使用该方法</li>
</ul>
</li>
<li>HEAD：获得报文首部<ul>
<li>HEAD方法和GET方法一样，只是不返回报文主体部分。</li>
<li>用于确认URI的有效性及资源更新的日期时间等</li>
</ul>
</li>
<li>DELETE：删除文件<ul>
<li>DELETE方法用来删除文件，是与PUT相反的方法</li>
<li>DELETE方法按请求URI删除指定资源</li>
<li>同PUT，本身不带验证机制，一般的Web网站不适用</li>
</ul>
</li>
<li>OPTIONS：询问支持的方法<ul>
<li>OPTIONS方法用来查询针对请求URI指定的资源支持的方法</li>
</ul>
</li>
<li>TRACE：追踪路径<ul>
<li>TRACE方法是让Web服务器端将之前的请求通信环回给客户端</li>
<li>请求想要连接到源目标服务器可能会通过代理中转，TRACE方法就是用来确认连接过程中发生的一系列操作</li>
<li>不常用，容易引发XST（跨站追踪）</li>
</ul>
</li>
<li>CONNECT：要求用隧道协议连接代理<ul>
<li>CONNECT方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信</li>
</ul>
</li>
</ul>
<h3 id="使用方法下达命令"><a href="#使用方法下达命令" class="headerlink" title="使用方法下达命令"></a>使用方法下达命令</h3><ul>
<li>向请求URI指定的资源发送请求报文时，采用称为方法的命令</li>
<li>方法的作用在于，可以指定请求的资源按期望产生某种行为</li>
</ul>
<h3 id="持久连接节省通信量"><a href="#持久连接节省通信量" class="headerlink" title="持久连接节省通信量"></a>持久连接节省通信量</h3><ul>
<li>HTTP协议的初始版本中，每进行一次HTTP通信就要断开一次TCP连接</li>
<li>为解决上述TCP连接的问题，HTTP/1.1和部分HTTP/1.0想出了持久连接<ul>
<li>特点：只要任意一端没有明确提出断开连接，则保持TCP连接状态</li>
<li>好处：减少了TCP连接的重复建立和断开所造成的额外开销，减轻了服务器端的负载</li>
</ul>
</li>
<li>持久连接使得多数请求以管线化方法发送成为可能<ul>
<li>不必等待响应亦可直接发送下一个请求</li>
</ul>
</li>
</ul>
<h3 id="使用Cookie的状态管理"><a href="#使用Cookie的状态管理" class="headerlink" title="使用Cookie的状态管理"></a>使用Cookie的状态管理</h3><ul>
<li>HTTP 是无状态协议，它不对之前发生过的请求和响应的状态进行管理<ul>
<li>无法根据之前的状态进行本次的请求处理</li>
<li>优点：不必保存状态，自然可减少服务器的CPU及内存资源的消耗</li>
</ul>
</li>
<li>Cookie技术<ul>
<li>Cookie技术通过在请求和响应报文中写入Cookie信息来控制<u>客户端</u>的状态<ul>
<li>Cookie会根据从服务器端发送的响应报文内的一个叫做Set-Cookie的首部字段信息，通知客户端保存Cookie</li>
<li>当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入Cookie值后发送出去</li>
<li>服务器端发送客户端发送过来的Cookie后，会去检查究竟是哪个客户端发来的连接请求，然后比对服务器上的记录，最后得到之前的状态信息</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="HTTP报文内的HTTP信息"><a href="#HTTP报文内的HTTP信息" class="headerlink" title="HTTP报文内的HTTP信息"></a>HTTP报文内的HTTP信息</h2><ul>
<li>HTTP通信过程包括从客户端发往服务器端的请求及从服务器端返回客户端的响应</li>
</ul>
<h3 id="HTTP报文"><a href="#HTTP报文" class="headerlink" title="HTTP报文"></a>HTTP报文</h3><ul>
<li>用于HTTP协议交互的信息被称为HTTP报文。<ul>
<li>请求端（客户端）的HTTP报文叫做请求报文</li>
<li>响应端（服务器端）的叫做响应报文</li>
<li>HTTP报文本省是由多行数据构成的字符串文本</li>
<li>HTTP报文大致可分为报文首部和报文主体两块</li>
</ul>
</li>
</ul>
<h3 id="请求报文及响应报文的结构"><a href="#请求报文及响应报文的结构" class="headerlink" title="请求报文及响应报文的结构"></a>请求报文及响应报文的结构</h3><ul>
<li><img src="/.com//Users\lenovo\blog\public\img\报文结构.png" style="zoom:50%;">

<ul>
<li>请求行：包含用于请求的方法，请求URI和HTTP版本</li>
<li>状态行：包含表明响应结果的状态码，原因短语和HTTP版本</li>
<li>首部字段：包含表示请求和响应的各种条件和属性的各类首部（一班包含：通用首部，请求首部，响应首部，实体首部）</li>
<li>其他：可能包含HTTP的RFC里未定义的首部（Cookie等）</li>
</ul>
</li>
</ul>
<h3 id="编码提升传输速率"><a href="#编码提升传输速率" class="headerlink" title="编码提升传输速率"></a>编码提升传输速率</h3><ul>
<li>HTTP在传输数据时可以按照数据的原貌直接传输，但也可以在传输过程中通过编码提升传输速率</li>
<li>编码的操作需要计算机来完成，因此会消耗更多的CPU等资源</li>
</ul>
<h4 id="报文主体和实体主体的差异"><a href="#报文主体和实体主体的差异" class="headerlink" title="报文主体和实体主体的差异"></a>报文主体和实体主体的差异</h4><ul>
<li>报文：是HTTP通信中的基本单位，由8位组字节流组成，通过HTTP通信传输</li>
<li>实体：作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成</li>
<li><strong><em>HTTP报文的主体用于传输请求或响应的实体主体</em></strong></li>
<li>通常，报文主体等于实体主体。只有当传输中进行编码操作时，实体主体的内容才发生变化，才导致它和报文主体产生差异</li>
</ul>
<h4 id="压缩传输的内容编码"><a href="#压缩传输的内容编码" class="headerlink" title="压缩传输的内容编码"></a>压缩传输的内容编码</h4><ul>
<li>内容编码指明应用在实体内容上的编码格式，并保持实体信息原样压缩。内容编码后的实体由客户端接收并负责解码</li>
</ul>
<h4 id="分割发送的分块传输编码"><a href="#分割发送的分块传输编码" class="headerlink" title="分割发送的分块传输编码"></a>分割发送的分块传输编码</h4><ul>
<li>在HTTP通信过程中，请求的编码实体资源尚未全部传输完成之前，浏览器无法显示请求页面</li>
<li>在传输大容量数据时，通过把数据分割成多块，能够让浏览器逐步显示页面</li>
<li>分块传输编码：把实体主体分块的功能</li>
</ul>
<h4 id="发送多数据的多部分对象集合"><a href="#发送多数据的多部分对象集合" class="headerlink" title="发送多数据的多部分对象集合"></a>发送多数据的多部分对象集合</h4><ul>
<li>HTTP协议中采纳了多部分对象集合，发送的一份报文主体内可含有多类型实体</li>
<li>在HTTP报文中使用多部分对象集合时，需要在首部字段加入Content-type</li>
</ul>
<h4 id="获取部分内容的范围请求"><a href="#获取部分内容的范围请求" class="headerlink" title="获取部分内容的范围请求"></a>获取部分内容的范围请求</h4><ul>
<li>指定范围发送的请求叫做范围请求</li>
<li>执行范围请求时，会用到首部字段Range来指定资源的byte范围</li>
<li>针对范围请求，响应会返回状态码为206的响应报文</li>
<li>如果服务器端无法响应范围请求，则会返回状态码200 OK和完整的实体内容</li>
</ul>
<h4 id="内容协商返回最合适的内容"><a href="#内容协商返回最合适的内容" class="headerlink" title="内容协商返回最合适的内容"></a>内容协商返回最合适的内容</h4><ul>
<li>内容协商机制是指客户端和服务器端就响应的资源内容进行交涉，然后提供给客户端最为合适的资源</li>
<li>内容协商会以响应资源的语言、字符集、编码方式等作为判断的基准</li>
<li>内容协商技术有以下3种类型<ul>
<li>服务器驱动协商</li>
<li>客户端驱动协商</li>
<li>透明协商：是服务器驱动和客户端驱动的结合体</li>
</ul>
</li>
</ul>
<h2 id="返回结果的HTTP状态码"><a href="#返回结果的HTTP状态码" class="headerlink" title="返回结果的HTTP状态码"></a>返回结果的HTTP状态码</h2><ul>
<li>HTTP状态码负责表示客户端HTTP请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作</li>
</ul>
<h3 id="状态码告知从服务器返回的请求结果"><a href="#状态码告知从服务器返回的请求结果" class="headerlink" title="状态码告知从服务器返回的请求结果"></a>状态码告知从服务器返回的请求结果</h3><ul>
<li><p>状态码的职责是当客户端向服务器端发送请求时，描述返回的请求结果</p>
</li>
<li><p>状态码以3位数字和原因短语组成</p>
</li>
<li><p>数字中第一位指定了响应类别，后两位无分类</p>
<img src="/.com//Users\lenovo\blog\public\img\状态码类别.JPEG" style="zoom:50%;">

</li>
</ul>
<h3 id="常见状态码"><a href="#常见状态码" class="headerlink" title="常见状态码"></a>常见状态码</h3><ul>
<li>2XX成功：表明请求被正常处理了<ul>
<li>200 OK：表示从客户端发来的请求在服务器被正常处理了</li>
<li>204 No Content：服务器接收的请求已成功处理，但在返回的响应报文中不含实体的主体部分</li>
<li>206 Partial Content：客户端进行了范围请求，服务器成功执行了这部分的GET请求</li>
</ul>
</li>
<li>3XX重定向：表明浏览器需要执行某些特殊II的处理以正确处理请求<ul>
<li>301 Moved Perman：<ol>
<li>永久重定向</li>
<li>表示请求的资源已被分配了新的URI，以后应使用资源现在所指的URI</li>
</ol>
</li>
<li>302 Found：<ol>
<li>临时重定向</li>
<li>表明请求的资源已被分配了心得URI，希望用户（本次）能使用新的URI访问</li>
</ol>
</li>
<li>303 See Other：与302 状态码有着相同的功能，但明确表示客户端应当采用GET方法获取资源</li>
<li><u>301、302、303 响应状态返回时，几乎所有的浏览器都会把POST改为GET，并删除请求报文内的主体，之后请求会自动再次发送</u></li>
<li><u>301、302标准是禁止将POST方法改变成GET方法的，但实际使用时大家都会这么做</u></li>
<li>304 Not Modified：表示客户端发送附带条件的请求时，服务器端允许请求访问资源，但未满足条件的情况</li>
<li>307 Temporary Redirect：<ol>
<li>临时重定向</li>
<li>该状态码与302有着相同的含义，但是307会遵照浏览器标准，不会从POST变成GET</li>
</ol>
</li>
</ul>
</li>
<li>4XX客户端错误：表明客户端是发送错误的原因所在<ul>
<li>400 Bad Request：表明请求报文中存在语法错误</li>
<li>401 Unauthorized：表明发送的请求需要有通过HTTP认证的认证信息</li>
<li>403 Forbidden：表明对请求资源的访问被服务器拒绝了</li>
<li>404 Not Found：表明服务器上无法找到请求的资源</li>
</ul>
</li>
<li>5XX服务器错误：表明服务器本身发生错误<ul>
<li>500 Internal Server Error：表明服务器端在执行请求时发生了错误</li>
<li>503 Service Unavailable：表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求</li>
</ul>
</li>
</ul>
<h2 id="与HTTP协作的Web服务器"><a href="#与HTTP协作的Web服务器" class="headerlink" title="与HTTP协作的Web服务器"></a>与HTTP协作的Web服务器</h2><ul>
<li>一台Web服务器可搭建多个独立域名的Web网站，也可作为通信路径上的中转服务器提升效率</li>
</ul>
<h3 id="用单台虚拟主机实现多个域名"><a href="#用单台虚拟主机实现多个域名" class="headerlink" title="用单台虚拟主机实现多个域名"></a>用单台虚拟主机实现多个域名</h3><ul>
<li><p>HTTP/1.1规范允许一台HTTP服务器搭建多个Web站点</p>
</li>
<li><p>即使物理层面只有一台服务器，但只要使用虚拟主机的功能，则可以假想已具有多台服务器</p>
<img src="/.com//Users\lenovo\blog\public\img\一台服务器内托管多个域名.JPEG" style="zoom:50%;">
</li>
<li><p>在相同的IP地址下，由于虚拟主机可以寄存多个不同的主机名和域名的Web网站，因此在发送HTTP请求时，必须在Host首部内完整地指定主机名或域名的URI</p>
</li>
</ul>
<h3 id="通信数据转发程序：代理、网关、隧道"><a href="#通信数据转发程序：代理、网关、隧道" class="headerlink" title="通信数据转发程序：代理、网关、隧道"></a>通信数据转发程序：代理、网关、隧道</h3><ul>
<li>HTTP通信时，除了客户端和服务器端以外，还有一些用于通信数据转发的应用程序</li>
<li>这些应用程序和服务器可以将请求转发给通信线路上的下一站服务器，并且能接收从那台服务器发送的响应再转发给客户端</li>
</ul>
<h4 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h4><ul>
<li><p>基本行为：接收客户端发送的请求后转发给其他服务器</p>
</li>
<li><p>代理不改变请求URI，会直接发送给前方持有资源的目标服务器</p>
</li>
<li><p>持有资源的服务器称为源服务器</p>
</li>
<li><p>从源服务器返回的响应经过代理服务器后再传给客户端</p>
</li>
<li><p><strong>每次通过代理服务器转发请求或响应时，会追加写入Via首部信息</strong></p>
</li>
<li><p>使用代理服务器的理由：</p>
<ul>
<li>利用缓存技术减少网络带宽的流量</li>
<li>组织内部针对特定网站的访问控制</li>
<li>以获取访问日志为主要目的…</li>
</ul>
</li>
<li><p>代理有多种使用方法，按两种基准分类（是否使用缓存，是否修改报文）</p>
<ul>
<li><p>缓存代理：代理转发响应时，缓存代理会预先将资源的副本（缓存）保存在代理服务器上</p>
</li>
<li><p>透明代理：转发请求或响应时，不对报文做任何加工（反之，称为非透明代理）</p>
</li>
</ul>
</li>
</ul>
<h4 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h4><ul>
<li>利用网关可以由HTTP请求转化为其他协议通信</li>
<li>利用网关能提高通信的安全性——可以在客户端与网关之间通信线路上加密以确保连接的安全</li>
</ul>
<h4 id="隧道"><a href="#隧道" class="headerlink" title="隧道"></a>隧道</h4><ul>
<li>隧道可按要求建立起一条与其他服务器的通信线路，届时使用SSL等加密手段进行通信</li>
<li>隧道的目的是确保客户端能与服务器进行安全的通信</li>
<li>隧道本身不会去解析HTTP请求</li>
<li>隧道会在通信双方断开连接时结束</li>
</ul>
<h3 id="保存资源的缓存"><a href="#保存资源的缓存" class="headerlink" title="保存资源的缓存"></a>保存资源的缓存</h3><ul>
<li>缓存是指代理服务器或客户端本地磁盘内保存的资源副本 </li>
<li>缓存的有效期限</li>
</ul>
<h2 id="HTTP首部"><a href="#HTTP首部" class="headerlink" title="HTTP首部"></a>HTTP首部</h2><ul>
<li>HTTP协议的请求和响应报文中必定包含HTTP首部</li>
<li>首部内容为客户端和服务器端分别处理请求和响应提供所需要的信息</li>
<li>使用首部字段是为了给浏览器和服务器提供报文主体大小、所使用的语言、认证信息等内容</li>
<li></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/01/Ajax-Axios-fetch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/01/Ajax-Axios-fetch/" class="post-title-link" itemprop="url">Ajax Axios fetch</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-12-01 10:17:48" itemprop="dateCreated datePublished" datetime="2019-12-01T10:17:48+08:00">2019-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-12-03 10:30:19" itemprop="dateModified" datetime="2019-12-03T10:30:19+08:00">2019-12-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络相关/" itemprop="url" rel="index">
                    <span itemprop="name">网络相关</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="发送后端请求技术——Ajax-Axios-fetch"><a href="#发送后端请求技术——Ajax-Axios-fetch" class="headerlink" title="发送后端请求技术——Ajax Axios fetch"></a>发送后端请求技术——Ajax Axios fetch</h1><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><ul>
<li>传统 Ajax 指的是 XMLHttpRequest（XHR）， 最早出现的发送后端请求技术，隶属于原始js中，核心使用XMLHttpRequest对象，多个请求之间如果有先后关系的话，就会出现<strong>回调地狱</strong>。</li>
<li>JQuery ajax 是对原生XHR的封装，除此以外还增添了对<strong>JSONP</strong>的支持。 </li>
<li>缺点：<ul>
<li>本身是针对MVC的编程,不符合现在前端<strong>MVVM</strong>的浪潮 </li>
<li>基于原生的XHR开发，XHR本身的架构不清晰</li>
<li>.JQuery整个项目太大，单纯使用ajax却要引入整个JQuery非常的不合理 </li>
<li>不符合关注分离（Separation of Concerns）的原则 </li>
<li>配置和调用方式非常混乱，而且基于事件的异步模型不友好 </li>
</ul>
</li>
</ul>
<h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><ul>
<li>axios 是一个基于Promise 用于浏览器和 nodejs 的 HTTP 客户端，本质上也是对原生XHR的封装，只不过它是Promise的实现版本，符合最新的ES规范</li>
<li>特征：<ul>
<li>从浏览器中创建 XMLHttpRequest </li>
<li>支持 Promise API </li>
<li>客户端支持防止CSRF 【防止CSRF:就是让你的每个请求都带一个从cookie中拿到的key, 根据浏览器同源策略，假冒的网站是拿不到你cookie中得key的，这样，后台就可以轻松辨别出这个请求是否是用户在假冒网站上的误导输入，从而采取正确的策略。】</li>
<li>提供了一些并发请求的接口 </li>
<li>从 node.js 创建 http 请求 </li>
<li>拦截请求和响应 </li>
<li>转换请求和响应数据 </li>
<li>取消请求 </li>
<li>自动转换JSON数据 </li>
</ul>
</li>
</ul>
<h2 id="在vue中使用axios"><a href="#在vue中使用axios" class="headerlink" title="在vue中使用axios"></a>在vue中使用axios</h2><ul>
<li><p>vue-resource——axios的第三方包</p>
<p><img src="/.com//C:%5CUsers%5Clenovo%5Cblog%5Cpublic%5Cimg%5Cvue-resource%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95.png" alt></p>
</li>
</ul>
<h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><ul>
<li>fetch号称是AJAX的替代品，是在ES6出现的，使用了ES6中的promise对象。Fetch是基于promise设计的。 </li>
<li><strong>fetch不是ajax的进一步封装，而是原生js，没有使用XMLHttpRequest对象</strong>。</li>
<li>fetch的优点： <ul>
<li>符合关注分离，没有将输入、输出和用事件来跟踪的状态混杂在一个对象里</li>
<li>更好更方便的写法 </li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/01/跨域问题及其解决方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/01/跨域问题及其解决方法/" class="post-title-link" itemprop="url">跨域问题及其解决方法</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-12-01 10:12:32" itemprop="dateCreated datePublished" datetime="2019-12-01T10:12:32+08:00">2019-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-12-03 11:45:27" itemprop="dateModified" datetime="2019-12-03T11:45:27+08:00">2019-12-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络相关/" itemprop="url" rel="index">
                    <span itemprop="name">网络相关</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="跨域问题及其解决方法"><a href="#跨域问题及其解决方法" class="headerlink" title="跨域问题及其解决方法"></a>跨域问题及其解决方法</h1><h2 id="Same-origin-Policy-（同源策略）"><a href="#Same-origin-Policy-（同源策略）" class="headerlink" title="Same-origin Policy （同源策略）"></a>Same-origin Policy （同源策略）</h2><ul>
<li>在一个浏览器中访问的网站不能访问另一个网站中的数据，除非这两个网站具有相同的Origin，也即是拥有<strong>相同的协议、主机地址以及端口</strong>。一旦这三项数据中有一项不同，那么该资源就将被认为是从不同的Origin得来的，进而不被允许访问。 </li>
<li>同源策略是浏览器的行为，是为了保护本地数据不被JavaScript代码获取回来的数据污染，因此拦截的是客户端发出的请求回来的数据接收，即请求发送了，服务器响应了，但是无法被浏览器接收。 </li>
</ul>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><h3 id="script标签jsonp跨域"><a href="#script标签jsonp跨域" class="headerlink" title="script标签jsonp跨域"></a>script标签jsonp跨域</h3><ul>
<li>Web页面上调用js文件时则不受是否跨域的影响（不仅如此，我们还发现凡是拥有”src”这个属性的标签都拥有跨域的能力，比如&lt;\script&gt;、&lt;\img&gt;、&lt;\iframe&gt;）。</li>
<li>Jsonp(JSON with Padding) 是 json 的一种”使用模式”，可以让网页从别的域名（网站）那获取资料，即跨域读取数据 </li>
<li>该协议的一个要点就是允许用户传递一个callback参数给服务端，然后服务端返回数据时会将这个callback参数作为函数名来包裹住JSON数据，这样客户端就可以随意定制自己的函数来自动处理返回数据了。 </li>
<li>jsonp只适用于GET方法</li>
</ul>
<h3 id="nginx反向代理"><a href="#nginx反向代理" class="headerlink" title="nginx反向代理"></a>nginx反向代理</h3><h4 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h4><ul>
<li><p>　反向代理和正向代理的区别就是：<strong>正向代理代理客户端，反向代理代理服务器。</strong> </p>
<img src="/.com//正向代理和反向代理.jpg" style="zoom:67%;">
</li>
<li><p>现在许多大型web网站都用到反向代理。除了可以防止外网对内网服务器的恶性攻击、缓存以减少服务器的压力和访问安全控制之外，还可以进行负载均衡，将用户请求分配给多个服务器。 </p>
</li>
</ul>
<h4 id="方向代理服务器Nginx"><a href="#方向代理服务器Nginx" class="headerlink" title="方向代理服务器Nginx"></a>方向代理服务器Nginx</h4><ul>
<li>Nginx作为近年来较火的反向代理服务器，安装在目的主机端，主要用于转发客户机请求，后台有多个http服务器提供服务，nginx的功能就是把请求转发给后面的服务器，决定哪台目标主机来处理当前请求。 </li>
</ul>
<h3 id="node-js中间件代理跨域"><a href="#node-js中间件代理跨域" class="headerlink" title="node.js中间件代理跨域"></a>node.js中间件代理跨域</h3><h3 id="后端在头部信息设置安全域名"><a href="#后端在头部信息设置安全域名" class="headerlink" title="后端在头部信息设置安全域名"></a>后端在头部信息设置安全域名</h3><h3 id="后端在服务器上设置cors"><a href="#后端在服务器上设置cors" class="headerlink" title="后端在服务器上设置cors"></a>后端在服务器上设置cors</h3><ul>
<li>Cross-origin resource sharing 跨域资源共享 </li>
<li>依附于AJAX，通过添加HTTP Hearder部分字段请求与获取有权限访问的资源。CORS对开发者是透明的，因为浏览器会自动根据请求的情况（简单和复杂）做出不同的处理。CORS的关键是服务端的配置支持。 </li>
<li>node 安装cors模块</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/29/AJAX相关/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/29/AJAX相关/" class="post-title-link" itemprop="url">AJAX相关</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-29 10:21:19" itemprop="dateCreated datePublished" datetime="2019-11-29T10:21:19+08:00">2019-11-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-12-03 10:30:30" itemprop="dateModified" datetime="2019-12-03T10:30:30+08:00">2019-12-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络相关/" itemprop="url" rel="index">
                    <span itemprop="name">网络相关</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><h2 id="什么是AJAX"><a href="#什么是AJAX" class="headerlink" title="什么是AJAX"></a>什么是AJAX</h2><ol>
<li>AJAX是与服务器交换数据的技术，在不加载整个页面的情况下，实现了对部分网页的更新</li>
</ol>
<h2 id="jQuery和AJAX"><a href="#jQuery和AJAX" class="headerlink" title="jQuery和AJAX"></a>jQuery和AJAX</h2><ol>
<li>jQuery提供了多个与AJAX有关的方法。通过jQuery AJAX方法，能够使用HTTP Get和HTTP Post从远程服务器请求数据</li>
</ol>
<h3 id="jQuery-load-方法"><a href="#jQuery-load-方法" class="headerlink" title="jQuery load()方法"></a>jQuery load()方法</h3><ul>
<li>jQuery load()方法从服务器加载数据，并把返回的数据放入被选元素中</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(selector).load(URL,data,<span class="function"><span class="keyword">function</span>(<span class="params">response,status,xhr</span>))</span></span><br></pre></td></tr></table></figure>

<ul>
<li>必需的URL参数规定希望加载的URL；可选data参数规定了与请求一同发送的查询字符串键/值对集合；可选的callback参数是load()方法完成后所执行的函数名称</li>
<li>回调函数的参数：</li>
</ul>
<ol>
<li>response 包含调用成功时的结果内容</li>
<li>status包含调用的状态</li>
<li>xhr包含XMLHttpRequest对象【XMLHttpRequest对象用于在后台与服务器交换数据】</li>
</ol>
<h3 id="jQuery-AJAX-get-和post-方法"><a href="#jQuery-AJAX-get-和post-方法" class="headerlink" title="jQuery -AJAX get()和post()方法"></a>jQuery -AJAX get()和post()方法</h3><ul>
<li>jQuery get()和post()方法通过HTTP GET 或POST请求从服务器请求数据</li>
<li>HTTP请求：</li>
</ul>
<ol>
<li>GET-从指定的资源请求数据</li>
<li>POST-向指定的资源提交要处理的数据</li>
</ol>
<ul>
<li>jQuery $get()方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$<span class="keyword">get</span>(URL,function(data,status))</span><br></pre></td></tr></table></figure>

<ol>
<li>URL-规定希望请求的URL</li>
<li>data-被请求页面的内容</li>
<li>status-请求状态</li>
</ol>
<ul>
<li>jQuery $post()方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$post(URL,data1,<span class="function"><span class="keyword">function</span>(<span class="params">data2,status</span>))</span></span><br></pre></td></tr></table></figure>

<ol>
<li>URL-规定希望请求的URL</li>
<li>data1-连同请求一起发送的数据</li>
<li>data2-请求页面的内容</li>
<li>status-请求的状态</li>
</ol>
<h2 id="ajax"><a href="#ajax" class="headerlink" title="$.ajax()"></a>$.ajax()</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url : <span class="string">'...'</span>.<span class="comment">//请求的url</span></span><br><span class="line">    dataType : <span class="string">"json"</span>,<span class="comment">//返回格式为json</span></span><br><span class="line">    <span class="keyword">async</span> : <span class="literal">true</span>,<span class="comment">//请求是否异步，默认异步</span></span><br><span class="line">    data : &#123;</span><br><span class="line">    <span class="string">"id"</span>:<span class="string">"value"</span></span><br><span class="line">&#125;</span><br><span class="line">    type : <span class="string">"POST"</span>，<span class="comment">//请求方式</span></span><br><span class="line">    beforeSend : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="comment">//请求前的处理</span></span><br><span class="line">    success : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="comment">//请求成功时的处理</span></span><br><span class="line">    complete:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="comment">//请求完成时的处理</span></span><br><span class="line">    error:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;<span class="comment">//请求出错处理</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/28/HTML复习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/28/HTML复习/" class="post-title-link" itemprop="url">HTML复习</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-28 00:16:23" itemprop="dateCreated datePublished" datetime="2019-10-28T00:16:23+08:00">2019-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-12-03 10:23:54" itemprop="dateModified" datetime="2019-12-03T10:23:54+08:00">2019-12-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HTML/" itemprop="url" rel="index">
                    <span itemprop="name">HTML</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><h3 id="HTML基本概念"><a href="#HTML基本概念" class="headerlink" title="HTML基本概念"></a>HTML基本概念</h3><ul>
<li><p>HTML—超文本标记语言</p>
</li>
<li><p>HTML和XHTML的区别：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>HTML</th>
<th>XHTML</th>
</tr>
</thead>
<tbody><tr>
<td>标签名</td>
<td>可以大写，可以小写</td>
<td>必须小写</td>
</tr>
<tr>
<td>属性</td>
<td>不区分大小写</td>
<td>必须小写</td>
</tr>
<tr>
<td>标签必须严格嵌套</td>
<td>没有严格要求</td>
<td>是</td>
</tr>
<tr>
<td>标签必须封闭</td>
<td>不封闭也正确</td>
<td>是</td>
</tr>
<tr>
<td>空元素也必须封闭</td>
<td>均是正确（<code>&lt;img&gt;或&lt;img /&gt;</code>）</td>
<td>必须<code>&lt;/img /&gt;</code></td>
</tr>
<tr>
<td>属性值必须用双引号引起来</td>
<td>不必</td>
<td>必须</td>
</tr>
<tr>
<td>属性值必须使用完整形式</td>
<td>不必<code>&lt;input disabled&gt;</code></td>
<td>必须<code>&lt;input disabled=“disabled”/&gt;</code></td>
</tr>
<tr>
<td><em>尽量使用XHTML规范</em></td>
<td></td>
<td></td>
</tr>
<tr>
<td>+ HTML文件基本结构</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>一个完整的HTML结构包括头部、主题等</p>
<ol>
<li>DOCTYPE 声明：用来声明文档类型，声明文档为HTML文档结构，用来检验是否符合Web相关标准</li>
<li><code>&lt;html&gt;</code>标签：一个网页以<code>&lt;html&gt;</code>标签开始，以<code>&lt;/html&gt;</code>标签结束</li>
<li><code>&lt;head&gt;</code>标签：用于定义文档的头部，是所有头部元素的容器。<code>&lt;head&gt;</code>标签中的元素可以用来引用脚本，指示浏览器在哪里找到样式表，提供元信息等。</li>
<li><code>&lt;title&gt;</code>标签：描述网页的标题</li>
<li><code>&lt;meta&gt;</code>标签：描述网页具体的摘要信息，包括文档内容类型、字符编码信息、搜索关键字、网站提供的功能和服务的详细描述等。</li>
<li><code>&lt;body&gt;</code>标签：表示网页的主体部分</li>
</ol>
<h3 id="HTML的基本标签"><a href="#HTML的基本标签" class="headerlink" title="HTML的基本标签"></a>HTML的基本标签</h3><ul>
<li><p>标题标签 <code>&lt;h1&gt;&lt;h2&gt;...</code></p>
</li>
<li><p>分段显示网页段落文本<code>&lt;p&gt;&lt;/p&gt;</code></p>
</li>
<li><p>换行<code>&lt;br/&gt;</code></p>
</li>
<li><p>水平线<code>&lt;hr/&gt;</code></p>
</li>
<li><p>字体样式 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;b&gt;粗体文字&lt;/b&gt;</span><br><span class="line">&lt;em&gt;斜体文字&lt;/em&gt;</span><br><span class="line">&lt;strong&gt;强调文字&lt;/strong&gt;</span><br><span class="line">&lt;sup&gt;&lt;/sup&gt; 上标文字</span><br><span class="line">&lt;sub&gt;&lt;/sub&gt;下标文字</span><br></pre></td></tr></table></figure>
</li>
<li><p>页面注释<code>&lt;!- - 注释内容 - -&gt;</code></p>
</li>
<li><p>图像<code>&lt;img src=“图片地址” alt=“图像的替代文字” tittle=“鼠标悬停提示文字” algin=“文字对齐方式” / &gt;</code></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>algin属性值</th>
<th>效果</th>
</tr>
</thead>
<tbody><tr>
<td>bottom</td>
<td>文字底部对齐</td>
</tr>
<tr>
<td>middle</td>
<td>文字居中对齐</td>
</tr>
<tr>
<td>top</td>
<td>文字顶部对齐</td>
</tr>
</tbody></table>
<ul>
<li>网页超链接 <code>&lt;a href=“链接地址” target=“目标窗口位置”&gt;&lt;/a&gt;</code></li>
</ul>
<table>
<thead>
<tr>
<th>target属性值</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>_blank</td>
<td>新建窗口</td>
</tr>
<tr>
<td>_self</td>
<td>自身窗口</td>
</tr>
</tbody></table>
<p><em>网页超链接的应用场合：</em></p>
<ul>
<li>页面间链接</li>
<li>锚链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=“#c4”&gt;&lt;/a&gt;</span><br><span class="line">&lt;a name=“c4”&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>功能性链接：调用其他程序功能<h3 id="列表、表格和框架"><a href="#列表、表格和框架" class="headerlink" title="列表、表格和框架"></a>列表、表格和框架</h3><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4>三种常用列表：无序列表，有序列表和自定义列表<h5 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;&lt;/li&gt;</span><br><span class="line">     &lt;li&gt;&lt;/li&gt; </span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<p><em>建立不同类型的无序列表</em><br><code>&lt;ul type=“标记类型”&gt;&lt;/ul&gt;</code></p>
<table>
<thead>
<tr>
<th>type属性值</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>disc</td>
<td>实心圆</td>
</tr>
<tr>
<td>circle</td>
<td>空心圆</td>
</tr>
<tr>
<td>square</td>
<td>小方块</td>
</tr>
</tbody></table>
<h5 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ol&gt;</span><br><span class="line">    &lt;li&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;&lt;/li&gt;</span><br><span class="line">     &lt;li&gt;&lt;/li&gt; </span><br><span class="line">&lt;/ol&gt;</span><br></pre></td></tr></table></figure>

<p><em>建立不同类型的有序列表</em></p>
<table>
<thead>
<tr>
<th>type属性值</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>无</td>
<td>数字</td>
</tr>
<tr>
<td>A</td>
<td>大写字母</td>
</tr>
<tr>
<td>I（i）</td>
<td>罗马数字</td>
</tr>
</tbody></table>
<h5 id="自定义列表"><a href="#自定义列表" class="headerlink" title="自定义列表"></a>自定义列表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dl&gt;</span><br><span class="line">    &lt;dt&gt;名词或者概念&lt;/dt&gt; </span><br><span class="line">    &lt;dd&gt;相应的解释和描述&lt;/dd&gt;</span><br><span class="line">    &lt;dt&gt;&lt;/dt&gt;</span><br><span class="line">    &lt;dd&gt;&lt;/dd&gt;</span><br><span class="line">&lt;/dl&gt;</span><br></pre></td></tr></table></figure>

<p><em>自定义列表一般用于带有标题和标题解释性内容或者图片和文本内容混合排列的场合</em></p>
<h4 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;table align=“对齐方式”&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>align属性值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>left</td>
<td>左对齐</td>
</tr>
<tr>
<td>right</td>
<td>右对齐</td>
</tr>
<tr>
<td>center</td>
<td>居中对齐</td>
</tr>
</tbody></table>
<ul>
<li>跨行<code>&lt;td colspan=“所跨列数”&gt;&lt;/td&gt;</code></li>
<li>跨列<code>&lt;td rowspan=“所跨行数”&gt;&lt;/td&gt;</code></li>
<li>把表格的行分组：表头<code>&lt;thead&gt;</code>、主体<code>&lt;tbody&gt;</code>、脚注<code>&lt;tfoot&gt;</code></li>
<li>表格标题<code>&lt;caption&gt;标题&lt;/caption&gt;</code></li>
</ul>
<h4 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h4><p>框架就是把网页分成几个窗体框，每个窗体框都可以单独显示不同的HTML网页<br>优点：</p>
<ul>
<li>在一个浏览器窗口显示多个页面</li>
<li>可以实现页面复用</li>
<li>实现典型的“目录结构”</li>
</ul>
<h5 id="lt-frameset-gt-框架"><a href="#lt-frameset-gt-框架" class="headerlink" title="&lt;frameset&gt;框架"></a><code>&lt;frameset&gt;</code>框架</h5><p>框架包含<code>&lt;frameset&gt;``&lt;frame&gt;</code>两个标签<br><strong><code>&lt;frameset&gt;</code>和<code>&lt;body&gt;</code>标签不能同时使用</strong><br><code>&lt;frameset&gt;</code>属性：</p>
<ul>
<li>cols 表示将页面分割成几列<pre><code>cols=“25%，50%，*”表示将页面分割成3列</code></pre></li>
<li>rows 表示将页面分割成几行</li>
<li>横向、纵向同时切割</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;&lt;/head&gt;</span><br><span class="line">    &lt;frameset rows=“25%,*”&gt;</span><br><span class="line">        &lt;frame src=“html文件”/&gt;</span><br><span class="line">        &lt;frameset cold=“20%,*”&gt;</span><br><span class="line">                &lt;frame/&gt;</span><br><span class="line">                &lt;frame/&gt;        </span><br><span class="line">    &lt;/frameset&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><code>&lt;frame&gt;</code>属性：</p>
<ul>
<li>src：页面的路径</li>
</ul>
<h4 id="lt-iframe-gt-内联框架"><a href="#lt-iframe-gt-内联框架" class="headerlink" title="&lt;iframe&gt;内联框架"></a><code>&lt;iframe&gt;</code>内联框架</h4><h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><ul>
<li>表单是可以把浏览者输入的数据传送到服务器端的HTML标签</li>
<li>表单标签<code>&lt;form&gt;&lt;/form&gt;</code></li>
<li>属性</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>action</td>
<td>指示服务器上处理表单输出的程序 语法为action=“URL”</td>
</tr>
<tr>
<td>method</td>
<td>此属性告诉浏览器如何将数据发送给服务器。       method=“get” ：创建请求，包含页面URL、一个问号和表单的值。method=“post” ：表单上的数据会作为一个数据块发送个脚本</td>
</tr>
</tbody></table>
<h4 id="单行文本输入框"><a href="#单行文本输入框" class="headerlink" title="单行文本输入框"></a>单行文本输入框</h4><p><code>&lt;input type=“text” name=“” size=“” maxlength=“” value=“”/&gt;</code></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>type=“text”</td>
<td>定义单行文本输入框</td>
</tr>
<tr>
<td>name</td>
<td>文本框的名称（独一无二）</td>
</tr>
<tr>
<td>size</td>
<td>文本框的宽度（单位是单个字符的宽度）</td>
</tr>
<tr>
<td>maxlength</td>
<td>最多输入的字符数</td>
</tr>
<tr>
<td>value</td>
<td>初始值</td>
</tr>
<tr>
<td>#### 多行文本输入框</td>
<td></td>
</tr>
<tr>
<td><code>&lt;textarea name cols=“” rows=“” wrap=“” &gt;&lt;/textarea&gt;</code></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>cols</td>
<td>宽度</td>
</tr>
<tr>
<td>rows</td>
<td>高度</td>
</tr>
<tr>
<td>wrap</td>
<td>定义输入内容大于文本框区域时的显示方法。wrap=“hard” ：文本换行；wrap=“soft” ：文本不换行，默认</td>
</tr>
<tr>
<td>#### 密码输入框</td>
<td></td>
</tr>
<tr>
<td><code>&lt;input type=“password” name=“” maxlength=“”&gt;</code></td>
<td></td>
</tr>
<tr>
<td>同单行文本框</td>
<td></td>
</tr>
<tr>
<td>#### 单选按钮</td>
<td></td>
</tr>
<tr>
<td><code>&lt;input type=“radio” name=“” value=“”/&gt;</code></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>type=“radio”</td>
<td>定义单选按钮</td>
</tr>
<tr>
<td>name</td>
<td>同一组的单选项必须使用同一个名称</td>
</tr>
<tr>
<td>value</td>
<td>同一组中，域值必须是不同的</td>
</tr>
<tr>
<td>#### 复选框</td>
<td></td>
</tr>
<tr>
<td><code>&lt;input type=“checkbox” name=“” value=“”/&gt;</code></td>
<td></td>
</tr>
<tr>
<td>#### 下拉列表框</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select name=“” size=“” multiple&gt;</span><br><span class="line">    &lt;option value=“” selected&gt;XXXXX&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>列表框的名称</td>
</tr>
<tr>
<td>size</td>
<td>下拉列表框的行数</td>
</tr>
<tr>
<td>multiple</td>
<td>有-多选，无-单选</td>
</tr>
<tr>
<td>value</td>
<td>选择项的值</td>
</tr>
<tr>
<td>selected</td>
<td>默认选中</td>
</tr>
</tbody></table>
<h4 id="普通按钮"><a href="#普通按钮" class="headerlink" title="普通按钮"></a>普通按钮</h4><p><code>&lt;input type=“button” name=“” value=“” onClick=“”/&gt;</code><br>onclick属性表示的是单击行为</p>
<h4 id="提交按钮"><a href="#提交按钮" class="headerlink" title="提交按钮"></a>提交按钮</h4><p><code>&lt;input type=“submit” name=“” value=“”/&gt;</code></p>
<p>==注意：==</p>
<ul>
<li>使用post方法不会改变地址栏状态，表单数据不会被显示</li>
<li>使用get方法，地址栏状态会发生改变，表单数据会在URL信息中显示</li>
<li>post安全些</li>
</ul>
<h4 id="重置按钮"><a href="#重置按钮" class="headerlink" title="重置按钮"></a>重置按钮</h4><p><code>&lt;input type=“reset” name=“” value=“”/&gt;</code><br>value属性定义按钮的显示文字</p>
<h4 id="文件域"><a href="#文件域" class="headerlink" title="文件域"></a>文件域</h4><p>选择需要上传的文本、图片等<br><code>&lt;input type=“file” name=“文件按钮的名称”/&gt;</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/28/《ES6标准入门》学习笔记（2）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/28/《ES6标准入门》学习笔记（2）/" class="post-title-link" itemprop="url">《ES6标准入门》学习笔记（2）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-10-28 00:14:32 / Modified: 00:15:53" itemprop="dateCreated datePublished" datetime="2019-10-28T00:14:32+08:00">2019-10-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/《ES6标准入门》学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">《ES6标准入门》学习笔记</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="第四章-字符串的扩展"><a href="#第四章-字符串的扩展" class="headerlink" title="第四章 字符串的扩展"></a>第四章 字符串的扩展</h2><p>ES6加强了对Unicode的支持，并扩展了字符串对象</p>
<h3 id="字符的Unicode表示法"><a href="#字符的Unicode表示法" class="headerlink" title="字符的Unicode表示法"></a>字符的Unicode表示法</h3><ul>
<li>JavaScript允许采用\uxxxx表示一个字符，其中xxxx表示字符的Unicode码点。这种表示法有范围（\u0000~\uFFFF）</li>
<li>ES6:只要将码点放入大括号，就能正确解读（没有范围）</li>
</ul>
<h3 id="codePointAt"><a href="#codePointAt" class="headerlink" title="codePointAt()"></a>codePointAt()</h3><ul>
<li>Javascript内部，字符以UTF-16的格式储存，每个字符固定为2个字节。对于那些需要4个字节储存的字符（Unicode码点大于0xFFFF的字符），JavaScript会认为它们是2个字节</li>
<li>ES6提供了codePointAt方法，能够正确处理4个字节储存的字符，返回一个字符的码点</li>
<li>codePointAt方法会正确返回32位的UTF-16字符的码点。对于那些2个字节储存的的常规字符，返回结果与charCodeAt方法相同</li>
<li>codePointAt方法返回的是码点的十进制值，toString（16）转16进制</li>
<li>for…of 循环会正确识别32位的UTF-16字符</li>
</ul>
<h3 id="String-fromCodePoint"><a href="#String-fromCodePoint" class="headerlink" title="String.fromCodePoint()"></a>String.fromCodePoint()</h3><ul>
<li>ES5提供了String.fromCharCode方法，用于从码点返回对应字符，但是这个方法不能识别32位的UTF-16字符。高位溢出</li>
<li>String.fromCodePoint可以识别大于0xFFFF的字符</li>
<li>如果String.fromCharCode方法有多个参数，则它们会被合并成一个字符串返回</li>
<li>==注意：== fromCodePoint方法定义在String对象上，而codePointAt方法定义在字符串的实例对象上</li>
</ul>
<h3 id="字符串的遍历器接口"><a href="#字符串的遍历器接口" class="headerlink" title="字符串的遍历器接口"></a>字符串的遍历器接口</h3><p>for…of..</p>
<h3 id="at-—提案"><a href="#at-—提案" class="headerlink" title="at() —提案"></a>at() —提案</h3><p>ES5对字符串对象提供了charAt方法，返回字符串给定位置的字符。该方法不能识别码点大于0xFFFF的字符<br><code>’abc’.charAt(0) // “a”</code></p>
<h3 id="normalize"><a href="#normalize" class="headerlink" title="normalize()"></a>normalize()</h3><p>ES6为字符串实例提供了normalize方法，用来将字符的不同表示方法统一为同样的形式，称为Unicode正规化</p>
<h3 id="includes-startWith-endsWith"><a href="#includes-startWith-endsWith" class="headerlink" title="includes(),startWith(),endsWith()"></a>includes(),startWith(),endsWith()</h3><ul>
<li>Javascript中只有indexOf方法可用来确定一个字符串是否包含在另一个字符串中</li>
<li>ES6提供了三种新方法</li>
</ul>
<ol>
<li>includes():返回布尔值，表示是否找到了参数字符串</li>
<li>startsWith():返回布尔值，表示参数字符串是否在源字符串的头部</li>
<li>endsWith():返回布尔值，表示参数字符串是否在源字符串的尾部</li>
</ol>
<p><strong>这三个方法都支持第二个参数，表示开始搜索的位置。endsWith不同，它针对前n个字符</strong></p>
<h3 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h3><ul>
<li>repeat方法返回一个新字符串，表示将原字符串重复了n次</li>
<li>小数取整，负数或者Infinity报错，取0返回空字符串<br>==0到-1之间的小数取整为0，不报错==</li>
<li>参数NAN等同于0</li>
<li>如果参数是字符串，先转换为数字</li>
</ul>
<h3 id="padStart-padEnd"><a href="#padStart-padEnd" class="headerlink" title="padStart(),padEnd()"></a>padStart(),padEnd()</h3><ul>
<li>ES2017引入了字符串不全长度的功能</li>
<li>padStart()用于头部补全，padEnd()用于尾部补全</li>
<li>接受两个参数，第一个参数用来指定字符串的最小长度，第二个参数则是用来补全的字符串</li>
<li>如果原字符串等于或大于指定的最小长度，则返回原字符串</li>
<li>如果用来补全的字符串与原字符串的长度之和超过了指定的最小长度，则会截去超出位数的补全字符串</li>
<li>省略第二个参数，用空格补全</li>
<li>用途</li>
</ul>
<ol>
<li>为数值补全指定位数</li>
<li>提示字符串格式</li>
</ol>
<p><code>’12’.padStart(10,’YYYY-MM-DD’) // “YYYY-MM-12”</code></p>
<h3 id="模版字符串"><a href="#模版字符串" class="headerlink" title="模版字符串"></a>模版字符串</h3><ul>
<li>用反引号（`）标识</li>
<li>用途：</li>
</ul>
<ol>
<li>当作普通字符串使用</li>
<li>定义多行字符串</li>
<li>在字符串中嵌入变量：把变量名写在${}中：</li>
</ol>
<ul>
<li>模板字符串还能调用函数</li>
<li>大括号中的值不是字符串，将按照一般的规则转为字符串</li>
</ul>
<ul>
<li>所有模板字符串的空格和换行都是被保留</li>
<li>标签前面会有一个换行，如果不想要换行，可以使用==trim方法==消除</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(‘#list’).html(`</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;first&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;second&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">`.trim());</span><br></pre></td></tr></table></figure>

<h3 id="模版编译"><a href="#模版编译" class="headerlink" title="模版编译"></a>模版编译</h3><h2 id="第五章-正则的扩展"><a href="#第五章-正则的扩展" class="headerlink" title="第五章 正则的扩展"></a>第五章 正则的扩展</h2><h3 id="RegExp函数"><a href="#RegExp函数" class="headerlink" title="RegExp函数"></a>RegExp函数</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/28/《ES6标准入门》学习笔记（1）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/28/《ES6标准入门》学习笔记（1）/" class="post-title-link" itemprop="url">《ES6标准入门》学习笔记（1）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-10-28 00:04:09 / Modified: 00:11:45" itemprop="dateCreated datePublished" datetime="2019-10-28T00:04:09+08:00">2019-10-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/《ES6标准入门》学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">《ES6标准入门》学习笔记</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>#《ES6标准入门》学习笔记</p>
<p>##第二章 let和const命令</p>
<h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><ul>
<li>var声明的变量在全局范围内都有效</li>
<li>let声明的变量仅在块级作用内有效</li>
<li>for循环还有一个特别之处：设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域。</li>
<li>var命令会发生“变量提升”现象，即变量可以在声明之前使用，值为undefined</li>
<li>let所声明的变量一定要在声明后使用，不然就会报错</li>
<li><strong>暂时性死区（TDZ）：</strong>在代码块内，使用let命令声明变量之前，该变量都是不可用的。</li>
<li>“暂时性死区”也意味着typeof不再是一个百分之百安全的操作：处于死去的变量会报错—<em>如果一个变量没有被声明，使用typeof，返回undefined</em></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function bar (x=y,y=2)&#123;</span><br><span class="line">    return [x,y];</span><br><span class="line">&#125;</span><br><span class="line">bar();//报错；参数x的默认值等于另一个参数y，y还没有声明，属于“死区”</span><br></pre></td></tr></table></figure>

<ul>
<li>let不允许在相同作用域内重复声明同一个变量=&gt;不能在函数内部重新声明参数</li>
</ul>
<h3 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h3><ul>
<li>为什么需要块级变量？1、内层变量可能会覆盖外层变量；2、用来计数的循环变量泄露为全局变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var temp = new Date();</span><br><span class="line">function f()&#123;</span><br><span class="line">    console.log(tmp);</span><br><span class="line">    if  (false) &#123;</span><br><span class="line">        var tmp = ‘hello world’;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f();//undefined</span><br></pre></td></tr></table></figure>

<p>变量提升导致内层的tmp变量覆盖了外层的tmp变量</p>
<ul>
<li>块级作用域的出现使得==立即执行匿名函数==不再必要</li>
<li>块级作用域与函数声明（ES6的浏览器）：</li>
</ul>
<ol>
<li>允许在块级作用域内声明函数</li>
<li>函数声明类似于var，即会提升到全局作用域或函数作用域的头部</li>
<li>同时，函数声明还会提升到所在的块级作用域的头部</li>
</ol>
<p>==不要在块内声明一个函数（严格模式会报语法错误），如果确实需要在块内定义函数，可以用函数表达式来声明函数==</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if(x)&#123;var foo=function()&#123;&#125;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>do表达式（只是提案）</li>
</ul>
<ol>
<li>本质上，块级作用域是一个语句，将多个操作封装在一起，没有返回值</li>
</ol>
<h3 id="const命令"><a href="#const命令" class="headerlink" title="const命令"></a>const命令</h3><ul>
<li>const声明一个只读变量，常量的值不能改变</li>
<li>const一旦声明常量，就必须立即初始化，不能留到以后赋值</li>
<li>const的作用域与let命令相同：只在声明所在的块级作用域内有效</li>
<li>不可重复声明</li>
<li>对于复合类型的数据（主要是对象和数组）而言，变量指向的内存地址保存的只是一个指针<ul>
<li>如果真的想将对象冻结，应该使用Object.freeze方法<h3 id="顶层对象的属性"><a href="#顶层对象的属性" class="headerlink" title="顶层对象的属性"></a>顶层对象的属性</h3></li>
</ul>
</li>
<li>在ES5中，顶层对象的属性与全局变量是等价的</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">window.a = 1;</span><br><span class="line">a // 1</span><br><span class="line">a = 2;</span><br><span class="line">window.a // 2</span><br></pre></td></tr></table></figure>

<ul>
<li>ES6中，规定：（1）为了保持兼容性，var命令和function命令声明的全局变量依旧是顶层对象的属性；（2）let、const、class命令声明的的全局变量不属于顶层对象的属性</li>
</ul>
<h2 id="第三章-变量的结构赋值"><a href="#第三章-变量的结构赋值" class="headerlink" title="第三章 变量的结构赋值"></a>第三章 变量的结构赋值</h2><h3 id="数组的解构赋值"><a href="#数组的解构赋值" class="headerlink" title="数组的解构赋值"></a>数组的解构赋值</h3><ul>
<li>ES6允许按照一定模式从数组和对象中提取值，然后对变量进行赋值，</li>
<li>“模式匹配”：等号两边的模式相同</li>
<li>不完全解构：等号左边的模式只匹配一部分的等号右边的数组</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let [x,y]=[1,2,3];</span><br><span class="line">x // 1</span><br><span class="line">y // 2</span><br></pre></td></tr></table></figure>

<ul>
<li>如果等号的右边不是数组（或者严格来说不是可遍历的结构），将会报错</li>
<li>==Iterator接口：== 迭代器</li>
<li>set结构：</li>
</ul>
<ol>
<li>ES6新增的数据结构</li>
<li>类似于数组，但是成员都是唯一的，没有重复</li>
<li>Set本身是一个构造函数，用来生成set数据结构，可以接受一个数组（具有Iterator接口的其他数据结构）作为参数，用来初始化</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let [x,y,z]=new Set ([‘a’,’b’,’c’]);</span><br><span class="line">x // “a”</span><br></pre></td></tr></table></figure>

<ul>
<li>解构赋值允许指定默认值</li>
<li><em>如果一个数组成员不严格等于（===）undefined，默认值是不会生效的</em></li>
<li>如果默认值是一个表达式，那么这个表达式是惰性求值，即只有在用到是才会求值</li>
</ul>
<h3 id="对象的解构赋值"><a href="#对象的解构赋值" class="headerlink" title="对象的解构赋值"></a>对象的解构赋值</h3><ul>
<li>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的去值是由它的位置决定的；而对象的属性没有次序，变量必须与属性同名才能取到正确的值</li>
<li>变量名与属性名不一致</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var &#123;foo:baz&#125;=&#123;foo:’aaa’,bar:’bbb’&#125;;</span><br><span class="line">baz // “aaa”</span><br><span class="line">foo // 报错—foo是匹配的模式，baz才是变量</span><br></pre></td></tr></table></figure>

<ul>
<li>对象的解构赋值的内部机制是先找到同名属性，然后再赋值给对应的变量。==真正被赋值的是变量，而不是属性==</li>
<li>对象的解构赋值可以很方便地将现有对象的方法和属性赋值到某个变量。 </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let arr =[1,2,3];</span><br><span class="line">let &#123;0:first,[arr.length - 1] : last&#125;=arr;</span><br><span class="line">first // 1</span><br><span class="line">last // 3</span><br></pre></td></tr></table></figure>

<p><strong>数组是特殊的对象，数组arr的0键对应的值是1，[arr.length-1]就是2键</strong></p>
<h3 id="字符串的解构赋值"><a href="#字符串的解构赋值" class="headerlink" title="字符串的解构赋值"></a>字符串的解构赋值</h3><ul>
<li>字符串也可以解构赋值，这是因为此时字符串被转换成了一个类似数组的对象</li>
<li>类似数组的对象都有一个length属性</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let &#123;length : Len&#125;=‘hello’;</span><br><span class="line">len //5</span><br></pre></td></tr></table></figure>

<h3 id="数值和布尔值的解构赋值"><a href="#数值和布尔值的解构赋值" class="headerlink" title="数值和布尔值的解构赋值"></a>数值和布尔值的解构赋值</h3><ul>
<li>如果等号右边是数值和布尔值，则会先转为对象</li>
<li><strong>解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象。由于undefined的null无法转为对象，对他们进行解构赋值是都会报错</strong></li>
</ul>
<h3 id="函数参数的解构赋值"><a href="#函数参数的解构赋值" class="headerlink" title="函数参数的解构赋值"></a>函数参数的解构赋值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function add([x,y])&#123;   </span><br><span class="line">    return x+y; </span><br><span class="line">&#125;</span><br><span class="line">add([1,2])//3</span><br></pre></td></tr></table></figure>

<p>参数传入时，解构成变量x和y</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[1,2],[3,4]].map(( [a,b] ) =&gt; a+b);</span><br><span class="line">//[3,7]</span><br></pre></td></tr></table></figure>

<h3 id="圆括号问题"><a href="#圆括号问题" class="headerlink" title="圆括号问题"></a>圆括号问题</h3><ul>
<li>ES6规则：只要有可能导致解构歧义，就不得使用圆括号</li>
<li>建议：只要有可能，就不要在模式中放置圆括号</li>
<li>以下解构赋值不能使用圆括号：</li>
</ul>
<ol>
<li>变量声明语句</li>
<li>函数参数</li>
<li>赋值语句的模式</li>
</ol>
<ul>
<li>可以使用圆括号的情况：赋值语句的非模式部分</li>
</ul>
<h3 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h3><ul>
<li>交换变量的值</li>
<li>从函数返回多个值：函数只能返回一个值，如果返回多个值，只能将它们当在数组或对象里</li>
<li>函数参数的定义：将一组参数与变量名对应起来</li>
<li>提取JSON数据</li>
<li>函数参数的默认值</li>
<li>遍历Map结构</li>
<li>输入模块的指定方法（不懂）</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/22/js事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/22/js事件/" class="post-title-link" itemprop="url">javascript事件</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-22 14:46:30" itemprop="dateCreated datePublished" datetime="2019-10-22T14:46:30+08:00">2019-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-10-23 00:14:54" itemprop="dateModified" datetime="2019-10-23T00:14:54+08:00">2019-10-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>Javascript和Html的交互是通过事件实现的</p>
<h4 id="事件流"><a href="#事件流" class="headerlink" title="事件流"></a>事件流</h4><p>事件流描述的是从页面接受事件的顺序</p>
<ul>
<li>IE的事件流是事件冒泡流</li>
<li>Netscape Communicator的事件流是事件捕获流</li>
</ul>
<h5 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h5><p>单击页面<code>&lt;div&gt;</code><br><code>&lt;div&gt;—&lt;body&gt;—&lt;html&gt;—document</code><br>沿DOM树向上传播</p>
<h5 id="事件捕获"><a href="#事件捕获" class="headerlink" title="事件捕获"></a>事件捕获</h5><p>单击页面<code>&lt;div&gt;</code><br><code>document—&lt;html&gt;——&lt;body&gt;—&lt;div&gt;</code><br>沿DOM树向下传播<br><em>建议：使用事件冒泡</em></p>
<h5 id="DOM事件流"><a href="#DOM事件流" class="headerlink" title="DOM事件流"></a>DOM事件流</h5><ul>
<li>事件捕获阶段</li>
<li>处于目标阶段</li>
<li>事件冒泡阶段</li>
</ul>
<h4 id="事件处理程序"><a href="#事件处理程序" class="headerlink" title="事件处理程序"></a>事件处理程序</h4><p>事件就是用户或浏览器自身执行的某种动作，例如click，load，和mouseover<br>响应某个事件的函数就叫做事件处理程序（事件侦听器），以“on”开头。</p>
<h5 id="HTML事件处理程序"><a href="#HTML事件处理程序" class="headerlink" title="HTML事件处理程序"></a>HTML事件处理程序</h5><p>某个元素支持的每种事件，都可以使用一个与相应事件同名处理程序同名的HTML特性来指定。<br><code>&lt;input type=‘button’ value=‘click me’ onclick=“alert(‘Clicked’)”&gt;</code><br><em>很多HTML事件处理程序都会被封装在一个try-catch块中</em></p>
<h5 id="DOM0级事件处理程序"><a href="#DOM0级事件处理程序" class="headerlink" title="DOM0级事件处理程序"></a>DOM0级事件处理程序</h5><p>将一个函数赋值给一个事件处理程序属性<br><em>要使用JavaScript指定事件处理程序，首先必须取得一个要操作的对象的饮用：</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var btn = document.getElementById(‘myBtn’);</span><br><span class="line">btn.onclick = function()&#123;</span><br><span class="line">//todo</span><br><span class="line">&#125;;</span><br><span class="line">btn.onclick = null ;//删除事件处理程序</span><br></pre></td></tr></table></figure>

<h5 id="DOM2级事件处理程序"><a href="#DOM2级事件处理程序" class="headerlink" title="DOM2级事件处理程序"></a>DOM2级事件处理程序</h5><p>“DOM2级事件”定义了两个方法：指定和删除事件处理程序：addEventListener()和removeEventListener()<br>接受3个参数==要处理的事件名、作为事件处理程序的函数和一个布尔值==（布尔值：true—在捕获阶段调用事件处理程序，false—在冒泡阶段）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var btn =  document.getElementById(‘myBtn’);</span><br><span class="line">btn.addEventListener(“click”,function()&#123;</span><br><span class="line">//todo1</span><br><span class="line">&#125;,false);</span><br><span class="line">btn.addEventListener(“click”,function()&#123;</span><br><span class="line">//todo2</span><br><span class="line">&#125;,false);//按照添加的顺序触发</span><br></pre></td></tr></table></figure>

<ul>
<li>使用DOM2级方法添加处理程序的好处是可以添加多个事件处理程序。</li>
<li>通过addEventListener()添加的事件只能使用removeEventListener()来移除<br><em>匿名程序无法移除</em></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var btn =  document.getElementById(‘myBtn’);</span><br><span class="line">var handle = function()&#123;</span><br><span class="line">//todo</span><br><span class="line">&#125;;</span><br><span class="line">btn.addEventListener(“click”,handle,false);</span><br><span class="line">btn.removeEventListener(“click”,handle,false);//参数相同</span><br></pre></td></tr></table></figure>

<p>==区别==</p>
<ul>
<li>DOM0级和DOM2级能添加多个事件处理程序，HTML事件不行</li>
<li>DOM0级 覆盖，执行最后一个</li>
<li>DOM2级 不覆盖，依次执行<h5 id="IE事件处理程序"><a href="#IE事件处理程序" class="headerlink" title="IE事件处理程序"></a>IE事件处理程序</h5>IE实现了与DOM中类似的两个方法：attachEvent()和detachEvent()<br>接受两个参数：==事件处理程序名称和事件处理程序函数==<br>由于IE8及更早版本只支持事件冒泡，所以通过attachEvent()添加的事件处理程序都会被添加到冒泡阶段</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var btn =  document.getElementById(‘myBtn’);</span><br><span class="line">btn.attachEvent(“onclick”,function()&#123;</span><br><span class="line">//todo1</span><br><span class="line">&#125;;//‘onclick’而不是‘click’</span><br></pre></td></tr></table></figure>

<p><em>在IE中使用attachEvent()与使用DOM0级方法的主要区别在于事件处理程序的作用域</em></p>
<ul>
<li>DOM0级：事件处理程序会在其所属元素的作用域内运行</li>
<li>attachEvent()：全局作用域（this=window）</li>
</ul>
<p><strong>可添加多个事件处理程序，执行顺序与添加顺序相反</strong><br><strong>支持IE事件处理程序的只有IE和Opera</strong></p>
<h5 id="跨浏览器的事件处理程序"><a href="#跨浏览器的事件处理程序" class="headerlink" title="跨浏览器的事件处理程序"></a>跨浏览器的事件处理程序</h5><p>使用能力检测</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var EventUtil = &#123;</span><br><span class="line">    addHandler: function(element,type,handler)&#123;//三个参数：要操作的元素、事件名称和事件处理程序函数</span><br><span class="line">        if (element.addEventListener)&#123;</span><br><span class="line">            element.addEventListener(type, handler, false);</span><br><span class="line">        &#125; else if (element.attachEvent) &#123;</span><br><span class="line">            element.attachEvent(“on”+type,handler);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            element.[“on”+type] = handler;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    removeHandler: function()&#123;</span><br><span class="line">        if (element.removeEventListener)&#123;</span><br><span class="line">            element.addEventListener(type, handler, false);</span><br><span class="line">        &#125; else if (element.attachEvent) &#123;</span><br><span class="line">            element.detachEvent(“on”+type,handler);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            element.[“on”+type] = null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用EventUtil对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var btn =  document.getElementById(‘myBtn’);</span><br><span class="line">var handler = function()&#123;</span><br><span class="line">//todo</span><br><span class="line">&#125;;</span><br><span class="line">EventUtil.addHandler (btn,”click”,handler);</span><br><span class="line">EventUtil.removeHandler (btn,”click”,handler);</span><br></pre></td></tr></table></figure>

<h4 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h4><p>在触发DOM上的某个事件时，会产生一个事件对象event，包含着所有与事件有关的信息。==包括导致事件的元素、事件的类型以及其他与特定事件相关的信息==<br><em>所有浏览器都支持event对象，但是支持的方法不同</em></p>
<h5 id="DOM中的事件对象（event）"><a href="#DOM中的事件对象（event）" class="headerlink" title="DOM中的事件对象（event）"></a>DOM中的事件对象（event）</h5><h6 id="currentTarget和target属性"><a href="#currentTarget和target属性" class="headerlink" title="currentTarget和target属性"></a>currentTarget和target属性</h6><ul>
<li>currentTarget 其事件处理程序当前正在处理事件的那个元素</li>
<li>target 事件的目标</li>
</ul>
<p><em>区别:</em></p>
<ul>
<li>在事件处理程序内部，对象this始终等于currentTarget。</li>
<li>如果直接将事件处理程序指定给了目标元素—this=event.currentTarget=event.target</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">document.body.onclick=function (event)&#123;</span><br><span class="line">    alert (event.currentTarget === document.body);//ture</span><br><span class="line">    alert (this === document.body);//ture</span><br><span class="line">    alert (event.target === document.getElementById(“myBtn”));//ture</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>按钮没有注册事件</li>
</ul>
<h6 id="type属性"><a href="#type属性" class="headerlink" title="type属性"></a>type属性</h6><p>在需要通过一个函数处理多个事件时，可以使用type属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var btn =  document.getElementById(‘myBtn’);</span><br><span class="line">var handler = function(event)&#123;</span><br><span class="line">    switch(event.type)&#123;</span><br><span class="line">        case  “click”:</span><br><span class="line">            alert(‘Clicked’);</span><br><span class="line">            break;</span><br><span class="line">            </span><br><span class="line">        case “mouseover”:</span><br><span class="line">            event.target.style.backgroundColor = ‘red’;</span><br><span class="line">            break;</span><br><span class="line">            </span><br><span class="line">        case“mouseout”:</span><br><span class="line">            event.target.style.backgroundColor = ‘’;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">btn.onclick = handler;</span><br><span class="line">btn.onmouseover = handler;</span><br><span class="line">btn.onmouseout = handler;</span><br></pre></td></tr></table></figure>

<h6 id="preventDefault-方法"><a href="#preventDefault-方法" class="headerlink" title="preventDefault()方法"></a>preventDefault()方法</h6><ul>
<li>preventDefault（）：取消事件的默认行为，如果cancelable是true。</li>
<li>cancelable：表明是否可以取消事件的默认行为</li>
</ul>
<h6 id="stopPropagation-方法"><a href="#stopPropagation-方法" class="headerlink" title="stopPropagation()方法"></a>stopPropagation()方法</h6><p>用于立即停止事件在DOM层次中的传播</p>
<h6 id="eventPhase属性"><a href="#eventPhase属性" class="headerlink" title="eventPhase属性"></a>eventPhase属性</h6><p>确定事件当前正位于事件流的哪个阶段</p>
<ul>
<li>1–捕获阶段</li>
<li>2–目标对象</li>
<li>3–冒泡阶段</li>
</ul>
<p>==只有在事件处理程序执行期间，event对象才会存在；一旦执行完，event对象立即销毁==</p>
<h5 id="IE中的事件对象"><a href="#IE中的事件对象" class="headerlink" title="IE中的事件对象"></a>IE中的事件对象</h5><p><em>要访问IE中的event对象有几种不同的方式，取决于指定事件处理程序的方法：</em></p>
<ul>
<li>使用DOM0级方法添加事件处理程序时，event对象作为window对象的一个属性存在</li>
<li>如果事件处理程序是使用attchEvent（）添加的，那么就会有一个event对象作为参数传入事件处理程序函数中</li>
<li>HTML特性指定的事件处理程序，那么还可以通过一个名叫event的变量来访问event对象</li>
</ul>
<h6 id="srcElement属性"><a href="#srcElement属性" class="headerlink" title="srcElement属性"></a>srcElement属性</h6><p>事件的目标（与DOM中的target属性相同）<br><em>事件处理程序的作用域是根据指定它的方式来确定的，所以不能认为this会始终等于事件目标</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var btn =  document.getElementById(‘myBtn’);</span><br><span class="line">btn.onclick = function()&#123;</span><br><span class="line">    alert(window.event.srcElement === this);//true</span><br><span class="line">&#125;;</span><br><span class="line">btn.attachEvent(“onclick”,function(event)&#123;</span><br><span class="line">    alert(event.srcElement === this);//false</span><br><span class="line">&#125;);</span><br><span class="line">//attachEvent() 作用域：全局</span><br></pre></td></tr></table></figure>

<h6 id="returnValue属性"><a href="#returnValue属性" class="headerlink" title="returnValue属性"></a>returnValue属性</h6><p>默认值为true，将其设置为false就可以去取消事件的默认行为（与DOM中的preventDefault（）方法作用相同）</p>
<h6 id="cancelBubble属性"><a href="#cancelBubble属性" class="headerlink" title="cancelBubble属性"></a>cancelBubble属性</h6><p>默认值为false，将其设置为true就可以取消事件冒泡（与DOM中的stopPropagation（）方法的作用相同）</p>
<h5 id="跨浏览器的事件对象"><a href="#跨浏览器的事件对象" class="headerlink" title="跨浏览器的事件对象"></a>跨浏览器的事件对象</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">var EventUtil = &#123;</span><br><span class="line">    addHandler : function(element,type,handler)&#123;&#125;,</span><br><span class="line">    </span><br><span class="line">    getEvent : function(event)&#123;</span><br><span class="line">        return event ? event : window.event;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    getTarget : function(event)&#123;</span><br><span class="line">        return event.target || event.srcElement;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    preventDefault : function(event)&#123;</span><br><span class="line">        if (event.preventDefault())&#123;</span><br><span class="line">            event.preventDefault();</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            event.returnValue = false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">     </span><br><span class="line">    removeHandler : function(element,type,handler)&#123;&#125;,</span><br><span class="line">    </span><br><span class="line">    stopPropagation : function(event)&#123;</span><br><span class="line">        if(event.stopPropagation())&#123;</span><br><span class="line">            event.stopPropagation();</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            event.cancelBubble = true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h4><h5 id="UI事件"><a href="#UI事件" class="headerlink" title="UI事件"></a>UI事件</h5><p>UI事件指的是那些不一定与用户操作有关的事件、<br>多数这些事件都与window对象或表单控件相关<br>除了DOMActivate（DOM3废弃）之外，其他事件在DOM2级事件中都归为HTML事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var isSupported = document.implementation.hasFeature(“HTMLEvents”,”2.0”);// 确定浏览器是否支持DOM2级事件规定放入HTML事件</span><br><span class="line">var isSupported = document.implementation.hasFeature(“UIEvent”,”3.0”);//确定浏览器是否支持“DOM3级事件”定义的事件</span><br></pre></td></tr></table></figure>

<h6 id="load事件"><a href="#load事件" class="headerlink" title="load事件"></a>load事件</h6><ul>
<li>当页面完全加载后（包括所有图像、javasc文件、CSS文件等外部资源），就会触发window上面的load事件</li>
<li>两种定义onload事件处理程序的方法：</li>
</ul>
<p>通过JavaScript来指定事件处理程序的方式（推荐使用）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(window,’Load’,function(event)&#123;</span><br><span class="line">        alert(‘Loaded!’);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>为<code>&lt;body&gt;</code>元素添加一个onload特性</p>
<p><code>&lt;body onload=“alert(‘loaded!’)”&gt;</code><br><em>图像,<code>&lt;script&gt;</code>,<code>&lt;link&gt;</code>也可以触发load事件</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(window,”load”,function()&#123;</span><br><span class="line">    var image = document.createElement(“img”);</span><br><span class="line">    EventUtil.addHandler(image,”load”,function(event)&#123;</span><br><span class="line">        event = EventUtil.getEvent(event);</span><br><span class="line">        alert(EventUtil.getTarget(event).src);</span><br><span class="line">    &#125;);</span><br><span class="line">    document.body.appendChild(image);</span><br><span class="line">    image.src = “smile.gif”;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><em>新图像元素不一定要从添加到文档后才开始下载，只要设置了src属性就会开始下载</em></p>
<h6 id="unload事件"><a href="#unload事件" class="headerlink" title="unload事件"></a>unload事件</h6><p>在文档被完全卸载后触发—清除引用，以避免内存泄露<br><em>根据“DOM2级事件”，应该在<code>&lt;body&gt;</code>元素而非对象上面触发unload事件。不过，所有的浏览器都在window上实现了unload事件，以确保向后兼容</em></p>
<h6 id="resize事件"><a href="#resize事件" class="headerlink" title="resize事件"></a>resize事件</h6><p>当浏览器窗口被调整到一个新的高度或宽度时，就会触发resize事件<br><em>浏览器窗口最大化或最小化时也会触发resize事件</em></p>
<h6 id="scroll事件"><a href="#scroll事件" class="headerlink" title="scroll事件"></a>scroll事件</h6><p>当用户滚动带滚动条的元素中的内容时，在该元素上面触发</p>
<h5 id="焦点事件"><a href="#焦点事件" class="headerlink" title="焦点事件"></a>焦点事件</h5><p>焦点事件会在页面元素获得或失去焦点时触发<br>利用这些事件并与document。hasFocus（）方法及document.activeElement属性配合，可以知晓用户在页面上的行踪</p>
<ul>
<li>blur 在元素失去焦点时触发，不会冒泡</li>
<li>focus：在元素获得焦点时触发，不会冒泡</li>
<li>DOMFocusOut：失去焦点时触发（DOM3废弃）</li>
<li>DOMFocusIn：获得焦点时触发（DOM3废弃）</li>
<li>focusin：等价于focus，但会冒泡</li>
<li>focusout：等价于blur</li>
</ul>
<p><code>var isSupported = document.implementation.hasFeature(“FocusEvent”,”3.0”);//确定浏览器是否支持这些事件</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/18/lesson-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="嗷嗷">
      <meta itemprop="description" content="足够努力 便能实现">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/18/lesson-2/" class="post-title-link" itemprop="url">lesson-2</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-09-18 12:57:43 / Modified: 14:02:44" itemprop="dateCreated datePublished" datetime="2019-09-18T12:57:43+08:00">2019-09-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/英语学习/" itemprop="url" rel="index">
                    <span itemprop="name">英语学习</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Q1"><a href="#Q1" class="headerlink" title="Q1:"></a>Q1:</h3><h4 id="近义词"><a href="#近义词" class="headerlink" title="近义词"></a>近义词</h4><ul>
<li>opponent = rival 对手</li>
<li>disintegrating = breakdown = collapse 分解 瓦解</li>
<li>hubris = arrogance 自傲</li>
<li>contradictions = conflict  矛盾</li>
<li>founding = basic 基础的</li>
<li>shattered = destroyed  </li>
<li>oblige = responsibility 责任</li>
<li>degenerated = degrade 降低</li>
<li>drudgery = dull work 枯燥的工作<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4></li>
<li>liberalism 自由主义 </li>
<li>over the past four centuries 在过去的四个世纪中</li>
<li>battlefield 战场</li>
<li>internal 内部的</li>
<li>gathering 聚集的</li>
<li>twilight 黎明/暮年</li>
<li>tenets 信条</li>
<li>meritocratic arisocracy 精英贵族；新贵族</li>
<li>aloofness 高傲</li>
<li>noblesse 贵族</li>
<li>democracy 民主</li>
<li>theatre 电影院，戏院</li>
<li>absurd 无价值</li>
<li>reduce into 转变为 </li>
</ul>
<h3 id="Q2"><a href="#Q2" class="headerlink" title="Q2:"></a>Q2:</h3><h4 id="近义词-1"><a href="#近义词-1" class="headerlink" title="近义词"></a>近义词</h4><ul>
<li>advent = birth 出现</li>
<li>collective = shared 集体的<h4 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h4></li>
<li>mistake A for B 错把A当作B</li>
<li>repetition 重复</li>
<li>philosopher 哲学家</li>
<li>identify A with B 把A当作B</li>
<li>self-mastery 自我控制</li>
<li>self-expression 自我表达</li>
<li>conquest 征服，战胜</li>
<li>hedonistic 享乐的 </li>
<li>desire 欲望</li>
<li>indulgence 放纵</li>
<li>capture 捕获</li>
<li>disillusionment 幻灭</li>
<li>echoing 回应</li>
<li>complaint 抱怨</li>
<li>rampant 泛滥</li>
<li>commercialism 商业主义</li>
<li>narcissistic 自恋</li>
<li>bullying 恶棍</li>
<li>atomisation 原子化</li>
<li>dissatisfaction 不满</li>
<li>chaotic 混乱</li>
<li>dominance 统治性的 </li>
<li>impulses 冲动</li>
<li>fierce 凶猛的</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">嗷嗷</p>
  <div class="site-description" itemprop="description">足够努力 便能实现</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">嗷嗷</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
